var Revise=(()=>{var Ee=Object.defineProperty;var ut=(t,n,a)=>n in t?Ee(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;var st=t=>Ee(t,"__esModule",{value:!0});var ct=(t,n)=>{st(t);for(var a in n)Ee(t,a,{get:n[a],enumerable:!0})};var C=(t,n,a)=>(ut(t,typeof n!="symbol"?n+"":n,a),a);var xn={};ct(xn,{Fragment:()=>dt,InvariantError:()=>L,VERSION:()=>Xn,calc:()=>Oe,collection:()=>_,createContext:()=>Je,debug:()=>$e,default:()=>Jn,effect:()=>j,flush:()=>Ie,getLogLevel:()=>be,model:()=>Me,mount:()=>ot,nextFlush:()=>Ue,ref:()=>Ne,release:()=>z,reset:()=>We,retain:()=>U,setLogLevel:()=>ve,subscribe:()=>ze});var H={error:0,warn:1,info:2,debug:3},$=H.warn;function be(){return $>=H.info?"info":$>=H.warn?"warn":$>=H.debug?"debug":"error"}function ve(t){ft(()=>t in H,t),$=H[t]}function Se(...t){$>=H.warn&&console.warn(...t)}function N(...t){$>=H.error&&console.error(...t)}function Q(t,...n){t instanceof Error?(N(t),N(...n)):N(t,...n)}function ft(t,...n){t()||N("Invariant error",t.toString(),"is not truthy",...n)}function w(t,...n){if(!t)throw N("Assertion failure",t===void 0?"undefined":t===null?"null":t.toString(),"is not truthy",...n),new Error("Assertion failure")}function Y(t,...n){throw N("Assertion failure",t,"is not exhausted",...n),new Error("Assertion failure")}var L=class extends Error{},T=Symbol("reviseType"),Z=Symbol("dataTypeTag"),Ve=Symbol("calculationType"),ie=Symbol("recalculate"),oe=Symbol("observe"),he=Symbol("makeModelView"),ee=Symbol("flush"),te=Symbol("addDeferredWork"),de=Symbol("notify");function Ae(t){return t&&t[T]==="ref"}function Ne(t){return{[T]:"ref",current:t}}function Je(t){return Object.assign(()=>t,{[T]:"context"})}function Xe(t){return!!(t&&t[T]==="context")}function xe(t,n){return Object.assign(t,{[T]:"calculation",[Ve]:"calculation",[ie]:n})}function Le(t,n){return Object.assign(t,{[T]:"calculation",[Ve]:"effect",[ie]:n})}function ne(t){return!!(t&&t[T]==="data"&&t[Z]==="model")}function Ce(t){return!!(t&&!t[T]&&!!t.model&&!!t.model[Z])}function W(t){return!!(t&&t[T]==="data"&&t[Z]==="collection")}function R(t){return!!(t&&t[T]==="calculation")}function He(t){return t[Ve]==="effect"}function we(t){return!!(t&&t[T]==="subscription")}var Re=()=>{};function me(t,n){let a=new Map;return t.forEach(l=>{let[r,o]=n(l),d=a.get(r);d||(d=[],a.set(r,d)),d.push(o)}),a}function Pe(){return!1}function Fe(t,n){return t===n}var ue=class{constructor(){C(this,"nextId");C(this,"idMap");C(this,"nodesSet");C(this,"retained");C(this,"dirtyNodes");C(this,"graph");C(this,"reverseGraph");this.nextId=1,this.idMap=new WeakMap,this.nodesSet={},this.retained={},this.graph={},this.reverseGraph={},this.dirtyNodes={}}getId(n){let a=this.idMap.get(n);return a===void 0&&(a=this.nextId.toString(),this.nextId+=1,this.idMap.set(n,a)),a}addNode(n){let a=this.getId(n);return this.nodesSet[a]?!1:(this.graph[a]={},this.reverseGraph[a]={},this.nodesSet[a]=n,!0)}hasNode(n){return!!this.nodesSet[this.getId(n)]}markNodeDirty(n){let a=this.getId(n);return this.dirtyNodes[a]?!1:(this.dirtyNodes[a]=!0,!0)}addEdge(n,a){let l=this.getId(n),r=this.getId(a);return w(!!this.nodesSet[l],"cannot add edge from node that does not exist"),w(!!this.nodesSet[r],"cannot add edge to node that does not exist"),this.graph[l][r]=!0,this.reverseGraph[r][l]=!0,!0}removeEdge(n,a){let l=this.getId(n),r=this.getId(a);return!this.nodesSet[l]||!this.nodesSet[r]||!this.graph[l][r]?!1:(delete this.graph[l][r],delete this.reverseGraph[r][l],!0)}removeNodeInner(n){w(!this.retained[n],"attempted to remove a retained node");let a=Object.keys(this.graph[n]);Object.keys(this.reverseGraph[n]).forEach(r=>{delete this.graph[r][n]}),a.forEach(r=>{delete this.reverseGraph[r][n]}),delete this.reverseGraph[n],delete this.graph[n],delete this.nodesSet[n],delete this.dirtyNodes[n],delete this.retained[n]}removeNode(n){let a=this.getId(n);return this.nodesSet[a]?(this.removeNodeInner(a),!1):!0}retain(n){let a=this.getId(n);w(!this.retained[a],"double-retain"),this.retained[a]=!0}release(n){let a=this.getId(n);w(this.retained[a],"double-release"),delete this.retained[a]}removeIncoming(n){let a=this.getId(n);Object.keys(this.reverseGraph[a]).forEach(r=>{delete this.graph[r][a]}),this.reverseGraph[a]={}}getDependencies(n){let a=this.getId(n);return this.graph[a]?Object.keys(this.graph[a]).map(l=>this.nodesSet[l]):[]}visitDirtyTopological(n){let a=this.dirtyNodes;this.dirtyNodes={};let l={},r=[],o=d=>{if(l[d])return;l[d]=!0,Object.keys(this.graph[d]).forEach(s=>{o(s)}),r.push(d)};Object.keys(a).forEach(d=>{o(d)});for(let d=r.length-1;d>=0;--d){let m=r[d];if(a[m]){let s=this.nodesSet[m];n(s)||Object.keys(this.graph[m]).forEach(u=>{a[u]=!0})}}}garbageCollect(){let n={},a=r=>{if(n[r])return;n[r]=!0,Object.keys(this.reverseGraph[r]).forEach(d=>{a(d)})};Object.keys(this.retained).forEach(r=>{a(r)});let l=[];return Object.keys(this.graph).forEach(r=>{n[r]||(l.push(this.nodesSet[r]),this.removeNodeInner(r))}),l}graphviz(n){let a=["digraph dag {",'graph [rankdir="LR"];','node [style="filled", fillcolor="#DDDDDD"];'],l=Object.keys(this.graph),r={};l.forEach(m=>{r[m]=n(m,this.nodesSet[m])});let o=me(l,m=>[r[m].subgraph,m]),d=0;return o.forEach((m,s)=>{s&&a.push(`subgraph cluster_${d++} {`,'style="filled";','color="#AAAAAA";'),m.forEach(c=>{let f={shape:this.retained[c]?"box":"ellipse",label:r[c].label};a.push(`  item_${c} [${Object.entries(f).map(([u,p])=>`${u}=${JSON.stringify(p)}`).join(",")}];`)}),s&&a.push("}")}),l.forEach(m=>{Object.keys(this.graph[m]).forEach(s=>{a.push(`  item_${m} -> item_${s};`)})}),a.push("}"),a.join(`
`)}};var O=new WeakMap;function De(){O=new WeakMap}function ae(t){return""}function B(t,n){return t}var G=[],b=new ue,le=new WeakMap;function We(){G=[],b=new ue,le=new WeakMap,De()}function Oe(t,n,a){typeof n=="string"&&(a=n),typeof n!="function"&&(n=Fe),typeof a!="string"&&(a=void 0);let l=Be(t,n,!1);return a&&B(l,a),l}function j(t,n){let a=Be(t,Pe,!0);return n&&B(a,n),a}function K(t){G.push(null);let n=t();return G.pop(),n}function Be(t,n,a){if(typeof t!="function")throw new L("calculation must be provided a function");let l,r=a?Le(o,d):xe(o,d);function o(){if(a||se(r),l)return l.result;if(b.removeIncoming(r),G.push(r),l={result:t()},G.pop()!==r)throw new L("Active calculation stack inconsistency!");return l.result}b.addNode(r);function d(){if(!l)return r(),!1;let m=l.result;l=void 0;let s=r(),c=n(m,s);return c&&(l={result:m}),c}return r}function se(t){let n=G[G.length-1];n&&(b.addNode(t),b.hasNode(n)||b.addNode(n),b.addEdge(t,n))}function P(t,n){b.addNode(t),b.addNode(n),b.addEdge(t,n)}function ce(t,n){b.removeEdge(t,n)}function re(t){let n=b.addNode(t),a=b.markNodeDirty(t);q||(q=!0,pt())}var q=!1,Ge=Promise.resolve(),Ke=Re,ke=()=>setTimeout(()=>Ie(),0);function Ue(){return q?Ge:Promise.resolve()}function ze(t){ke=t,q&&ke()}function pt(){try{Ge=new Promise(t=>{Ke=t}),ke()}catch(t){Q(t,"uncaught exception in notify")}}function Ie(){if(!q)return;q=!1;let t=b.garbageCollect();b.visitDirtyTopological(n=>R(n)?n[ie]():(W(n)?n[ee]():ne(n)&&n[ee](),!1)),Ke()}function U(t){let n=le.get(t)??0,a=n+1;n===0&&(b.hasNode(t)||b.addNode(t),b.retain(t)),le.set(t,a)}function z(t){let n=le.get(t)??0,a=Math.min(n-1,0);n<1&&N(`release called on unretained item ${ae(t)}`,t),a<1&&b.release(t),le.set(t,a)}function $e(){return b.graphviz((t,n)=>{let a;return ne(n)&&(a=n),W(n)&&(a=n),Ce(n)&&(a=n.model),{label:`${t}
${ae(n)}`,subgraph:a}})}function je(t){return!!(t&&typeof t=="object"&&!Array.isArray(t)&&t[T]==="element")}function qe(t){return!!(t&&typeof t=="object"&&!Array.isArray(t)&&t[T]==="component")}function _e(t){return!!(t&&typeof t=="object"&&!Array.isArray(t)&&t[T]==="provider")}function e(t){return t}function E(t){if(!!t)return""}function V(t){if(t!==void 0)return t.toString()}function gt(t){if(t!==void 0)return t.toString()}function Et(t){if(t!==void 0)return typeof t=="number"?t:parseInt(t)}function Vt(t){if(t!==void 0)return t!=="no"}function Qe(t){if(t!==void 0&&t.length!==0)return t.join(" ")}var i={accesskey:{makeAttrValue:e,idlName:"accessKey",makeIdlValue:e},"aria-atomic":{makeAttrValue:e,idlName:"ariaAtomic",makeIdlValue:e},"aria-autocomplete":{makeAttrValue:e,idlName:"ariaAutoComplete",makeIdlValue:e},"aria-busy":{makeAttrValue:e,idlName:"ariaBusy",makeIdlValue:e},"aria-checked":{makeAttrValue:e,idlName:"ariaChecked",makeIdlValue:e},"aria-colcount":{makeAttrValue:e,idlName:"ariaColCount",makeIdlValue:e},"aria-colindex":{makeAttrValue:e,idlName:"ariaColIndex",makeIdlValue:e},"aria-colindextext":{makeAttrValue:e,idlName:"ariaColIndexText",makeIdlValue:e},"aria-colspan":{makeAttrValue:e,idlName:"ariaColSpan",makeIdlValue:e},"aria-current":{makeAttrValue:e,idlName:"ariaCurrent",makeIdlValue:e},"aria-disabled":{makeAttrValue:e,idlName:"ariaDisabled",makeIdlValue:e},"aria-expanded":{makeAttrValue:e,idlName:"ariaExpanded",makeIdlValue:e},"aria-haspopup":{makeAttrValue:e,idlName:"ariaHasPopup",makeIdlValue:e},"aria-hidden":{makeAttrValue:e,idlName:"ariaHidden",makeIdlValue:e},"aria-invalid":{makeAttrValue:e,idlName:"ariaInvalid",makeIdlValue:e},"aria-keyshortcuts":{makeAttrValue:e,idlName:"ariaKeyShortcuts",makeIdlValue:e},"aria-label":{makeAttrValue:e,idlName:"ariaLabel",makeIdlValue:e},"aria-level":{makeAttrValue:e,idlName:"ariaLevel",makeIdlValue:e},"aria-live":{makeAttrValue:e,idlName:"ariaLive",makeIdlValue:e},"aria-modal":{makeAttrValue:e,idlName:"ariaModal",makeIdlValue:e},"aria-multiline":{makeAttrValue:e,idlName:"ariaMultiLine",makeIdlValue:e},"aria-multiselectable":{makeAttrValue:e,idlName:"ariaMultiSelectable",makeIdlValue:e},"aria-orientation":{makeAttrValue:e,idlName:"ariaOrientation",makeIdlValue:e},"aria-placeholder":{makeAttrValue:e,idlName:"ariaPlaceholder",makeIdlValue:e},"aria-posinset":{makeAttrValue:e,idlName:"ariaPosInSet",makeIdlValue:e},"aria-pressed":{makeAttrValue:e,idlName:"ariaPressed",makeIdlValue:e},"aria-readonly":{makeAttrValue:e,idlName:"ariaReadOnly",makeIdlValue:e},"aria-required":{makeAttrValue:e,idlName:"ariaRequired",makeIdlValue:e},"aria-roledescription":{makeAttrValue:e,idlName:"ariaRoleDescription",makeIdlValue:e},"aria-rowcount":{makeAttrValue:e,idlName:"ariaRowCount",makeIdlValue:e},"aria-rowindex":{makeAttrValue:e,idlName:"ariaRowIndex",makeIdlValue:e},"aria-rowindextext":{makeAttrValue:e,idlName:"ariaRowIndexText",makeIdlValue:e},"aria-rowspan":{makeAttrValue:e,idlName:"ariaRowSpan",makeIdlValue:e},"aria-selected":{makeAttrValue:e,idlName:"ariaSelected",makeIdlValue:e},"aria-setsize":{makeAttrValue:e,idlName:"ariaSetSize",makeIdlValue:e},"aria-sort":{makeAttrValue:e,idlName:"ariaSort",makeIdlValue:e},"aria-valuemax":{makeAttrValue:e,idlName:"ariaValueMax",makeIdlValue:e},"aria-valuemin":{makeAttrValue:e,idlName:"ariaValueMin",makeIdlValue:e},"aria-valuenow":{makeAttrValue:e,idlName:"ariaValueNow",makeIdlValue:e},"aria-valuetext":{makeAttrValue:e,idlName:"ariaValueText",makeIdlValue:e},autocapitalize:{makeAttrValue:e,idlName:"autocapitalize",makeIdlValue:e},autofocus:{makeAttrValue:e,idlName:"autofocus",makeIdlValue:e},class:{makeAttrValue:e,idlName:"className",makeIdlValue:e},contenteditable:{makeAttrValue:e,idlName:"contentEditable",makeIdlValue:e},dir:{makeAttrValue:e,idlName:"dir",makeIdlValue:e},draggable:{makeAttrValue:E,idlName:"draggable",makeIdlValue:e},enterkeyhint:{makeAttrValue:e,idlName:"enterKeyHint",makeIdlValue:e},hidden:{makeAttrValue:E,idlName:"hidden",makeIdlValue:e},id:{makeAttrValue:e,idlName:"id",makeIdlValue:e},inputmode:{makeAttrValue:e,idlName:"inputMode",makeIdlValue:e},is:{makeAttrValue:e},itemid:{makeAttrValue:e},itemprop:{makeAttrValue:e},itemref:{makeAttrValue:e},itemscope:{makeAttrValue:E},itemtype:{makeAttrValue:e},lang:{makeAttrValue:e,idlName:"lang",makeIdlValue:e},nonce:{makeAttrValue:e,idlName:"nonce",makeIdlValue:e},role:{makeAttrValue:e,idlName:"role",makeIdlValue:e},slot:{makeAttrValue:e,idlName:"slot",makeIdlValue:e},spellcheck:{makeAttrValue:E,idlName:"spellcheck",makeIdlValue:e},style:{makeAttrValue:e,idlName:"style",makeIdlValue:e},tabindex:{makeAttrValue:gt,idlName:"tabIndex",makeIdlValue:Et},title:{makeAttrValue:e,idlName:"title",makeIdlValue:e},translate:{makeAttrValue:e,idlName:"translate",makeIdlValue:Vt}},ht={...i,href:{makeAttrValue:e,idlName:"href",makeIdlValue:e},target:{makeAttrValue:e,idlName:"target",makeIdlValue:e},download:{makeAttrValue:e,idlName:"download",makeIdlValue:e},ping:{makeAttrValue:e,idlName:"ping",makeIdlValue:e},rel:{makeAttrValue:e,idlName:"rel",makeIdlValue:e},hreflang:{makeAttrValue:e,idlName:"hreflang",makeIdlValue:e},type:{makeAttrValue:e,idlName:"type",makeIdlValue:e},referrerpolicy:{makeAttrValue:e,idlName:"referrerPolicy",makeIdlValue:e}},kt={...i,alt:{makeAttrValue:e,idlName:"alt",makeIdlValue:e},coords:{makeAttrValue:e,idlName:"coords",makeIdlValue:e},shape:{makeAttrValue:e,idlName:"shape",makeIdlValue:e},href:{makeAttrValue:e,idlName:"href",makeIdlValue:e},target:{makeAttrValue:e,idlName:"target",makeIdlValue:e},download:{makeAttrValue:e,idlName:"download",makeIdlValue:e},ping:{makeAttrValue:e,idlName:"ping",makeIdlValue:e},rel:{makeAttrValue:e,idlName:"rel",makeIdlValue:e},referrerpolicy:{makeAttrValue:e,idlName:"referrerPolicy",makeIdlValue:e}},It={...i,src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},crossorigin:{makeAttrValue:e,idlName:"crossOrigin",makeIdlValue:e},preload:{makeAttrValue:e,idlName:"preload",makeIdlValue:e},autoplay:{makeAttrValue:E,idlName:"autoplay",makeIdlValue:e},loop:{makeAttrValue:E,idlName:"loop",makeIdlValue:E},muted:{makeAttrValue:E,idlName:"muted",makeIdlValue:e},controls:{makeAttrValue:E,idlName:"controls",makeIdlValue:e}},Tt={...i},yt={...i,href:{makeAttrValue:e,idlName:"href",makeIdlValue:e},target:{makeAttrValue:e,idlName:"target",makeIdlValue:e}},Mt={...i},bt={...i,disabled:{makeAttrValue:E,idlName:"disabled",makeIdlValue:e},form:{makeAttrValue:e},formaction:{makeAttrValue:e,idlName:"formAction",makeIdlValue:e},formenctype:{makeAttrValue:e,idlName:"formEnctype",makeIdlValue:e},formmethod:{makeAttrValue:e,idlName:"formMethod",makeIdlValue:e},formnovalidate:{makeAttrValue:E,idlName:"formNoValidate",makeIdlValue:e},formtarget:{makeAttrValue:e,idlName:"formTarget",makeIdlValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},type:{makeAttrValue:e,idlName:"type",makeIdlValue:e},value:{makeAttrValue:e,idlName:"value",makeIdlValue:e}},vt={...i,width:{makeAttrValue:V,idlName:"width",makeIdlValue:e},height:{makeAttrValue:V,idlName:"height",makeIdlValue:e}},St={...i},At={...i,value:{makeAttrValue:e,idlName:"value",makeIdlValue:e}},Nt={...i},Jt={...i,open:{makeAttrValue:E,idlName:"open",makeIdlValue:e}},Xt={...i,open:{makeAttrValue:E,idlName:"open",makeIdlValue:e}},xt={...i},Lt={...i,src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},type:{makeAttrValue:e,idlName:"type",makeIdlValue:e},width:{makeAttrValue:V,idlName:"width",makeIdlValue:e},height:{makeAttrValue:V,idlName:"height",makeIdlValue:e}},Ct={...i,disabled:{makeAttrValue:E,idlName:"disabled",makeIdlValue:e},form:{makeAttrValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e}},Ht={...i,"accept-charset":{makeAttrValue:e,idlName:"acceptCharset",makeIdlValue:e},action:{makeAttrValue:e,idlName:"action",makeIdlValue:e},autocomplete:{makeAttrValue:e,idlName:"autocomplete",makeIdlValue:e},enctype:{makeAttrValue:e,idlName:"enctype",makeIdlValue:e},method:{makeAttrValue:e,idlName:"method",makeIdlValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},novalidate:{makeAttrValue:E,idlName:"noValidate",makeIdlValue:e},target:{makeAttrValue:e,idlName:"target",makeIdlValue:e},rel:{makeAttrValue:e,idlName:"rel",makeIdlValue:e}},wt={...i},Rt={...i},Pt={...i},Ft={...i},Dt={...i,src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},srcdoc:{makeAttrValue:e,idlName:"srcdoc",makeIdlValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},sandbox:{makeAttrValue:Qe,idlName:"sandbox",makeIdlValue:Qe},allow:{makeAttrValue:e,idlName:"allow",makeIdlValue:e},allowfullscreen:{makeAttrValue:E,idlName:"allowFullscreen",makeIdlValue:e},width:{makeAttrValue:V,idlName:"width",makeIdlValue:e},height:{makeAttrValue:V,idlName:"height",makeIdlValue:e},referrerpolicy:{makeAttrValue:e,idlName:"referrerPolicy",makeIdlValue:e},loading:{makeAttrValue:e,idlName:"loading",makeIdlValue:e}},Wt={...i,alt:{makeAttrValue:e,idlName:"alt",makeIdlValue:e},src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},srcset:{makeAttrValue:e,idlName:"srcset",makeIdlValue:e},sizes:{makeAttrValue:e,idlName:"sizes",makeIdlValue:e},crossorigin:{makeAttrValue:e,idlName:"crossOrigin",makeIdlValue:e},usemap:{makeAttrValue:e,idlName:"useMap",makeIdlValue:e},ismap:{makeAttrValue:E,idlName:"isMap",makeIdlValue:e},width:{makeAttrValue:V,idlName:"width",makeIdlValue:e},height:{makeAttrValue:V,idlName:"height",makeIdlValue:e},referrerpolicy:{makeAttrValue:e,idlName:"referrerPolicy",makeIdlValue:e},decoding:{makeAttrValue:e,idlName:"decoding",makeIdlValue:e},loading:{makeAttrValue:e,idlName:"loading",makeIdlValue:e}},Ot={...i,accept:{makeAttrValue:e,idlName:"accept",makeIdlValue:e},alt:{makeAttrValue:e,idlName:"alt",makeIdlValue:e},autocomplete:{makeAttrValue:e,idlName:"autocomplete",makeIdlValue:e},checked:{makeAttrValue:E,idlName:"checked",makeIdlValue:e},dirname:{makeAttrValue:e,idlName:"dirName",makeIdlValue:e},disabled:{makeAttrValue:E,idlName:"disabled",makeIdlValue:e},form:{makeAttrValue:e,idlName:"form",makeIdlValue:e},formaction:{makeAttrValue:e,idlName:"formAction",makeIdlValue:e},formenctype:{makeAttrValue:e,idlName:"formEnctype",makeIdlValue:e},formmethod:{makeAttrValue:e,idlName:"formMethod",makeIdlValue:e},formnovalidate:{makeAttrValue:E,idlName:"formNoValidate",makeIdlValue:e},formtarget:{makeAttrValue:e,idlName:"formTarget",makeIdlValue:e},height:{makeAttrValue:V,idlName:"height",makeIdlValue:e},indeterminate:{idlName:"indeterminate",makeIdlValue:e},list:{makeAttrValue:e,idlName:"list",makeIdlValue:e},max:{makeAttrValue:V,idlName:"max",makeIdlValue:e},maxlength:{makeAttrValue:V,idlName:"maxLength",makeIdlValue:e},min:{makeAttrValue:V,idlName:"min",makeIdlValue:e},minlength:{makeAttrValue:V,idlName:"minLength",makeIdlValue:e},multiple:{makeAttrValue:E,idlName:"multiple",makeIdlValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},pattern:{makeAttrValue:e,idlName:"pattern",makeIdlValue:e},placeholder:{makeAttrValue:e,idlName:"placeholder",makeIdlValue:e},readonly:{makeAttrValue:E,idlName:"readOnly",makeIdlValue:e},required:{makeAttrValue:E,idlName:"required",makeIdlValue:e},size:{makeAttrValue:V,idlName:"size",makeIdlValue:e},src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},step:{makeAttrValue:V,idlName:"step",makeIdlValue:e},type:{makeAttrValue:e,idlName:"type",makeIdlValue:e},value:{makeAttrValue:e,idlName:"value",makeIdlValue:e},width:{makeAttrValue:V,idlName:"width",makeIdlValue:e}},Ye={...i,cite:{makeAttrValue:e,idlName:"cite",makeIdlValue:e},datetime:{makeAttrValue:e,idlName:"dateTime",makeIdlValue:e}},Bt={...i,for:{makeAttrValue:e,idlName:"htmlFor",makeIdlValue:e}},Gt={...i},Kt={...i,value:{makeAttrValue:e,idlName:"value",makeIdlValue:e}},Ut={...i,href:{makeAttrValue:e,idlName:"href",makeIdlValue:e},crossorigin:{makeAttrValue:e,idlName:"crossOrigin",makeIdlValue:e},rel:{makeAttrValue:e,idlName:"rel",makeIdlValue:e},media:{makeAttrValue:e,idlName:"media",makeIdlValue:e},integrity:{makeAttrValue:e,idlName:"integrity",makeIdlValue:e},hreflang:{makeAttrValue:e,idlName:"hreflang",makeIdlValue:e},type:{makeAttrValue:e,idlName:"type",makeIdlValue:e},referrerpolicy:{makeAttrValue:e,idlName:"referrerPolicy",makeIdlValue:e},sizes:{makeAttrValue:e,idlName:"sizes",makeIdlValue:e},imagesrcset:{makeAttrValue:e,idlName:"imageSrcset",makeIdlValue:e},imagesizes:{makeAttrValue:e,idlName:"imageSizes",makeIdlValue:e},as:{makeAttrValue:e,idlName:"as",makeIdlValue:e},color:{makeAttrValue:e},disabled:{makeAttrValue:E,idlName:"disabled",makeIdlValue:e}},zt={...i,name:{makeAttrValue:e,idlName:"name",makeIdlValue:e}},$t={...i},jt={...i,name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},"http-equiv":{makeAttrValue:e,idlName:"httpEquiv",makeIdlValue:e},content:{makeAttrValue:e,idlName:"content",makeIdlValue:e},charset:{makeAttrValue:e},media:{makeAttrValue:e,idlName:"media",makeIdlValue:e}},qt={...i,value:{makeAttrValue:V,idlName:"value",makeIdlValue:e},min:{makeAttrValue:V,idlName:"min",makeIdlValue:e},max:{makeAttrValue:V,idlName:"max",makeIdlValue:e},low:{makeAttrValue:V,idlName:"low",makeIdlValue:e},high:{makeAttrValue:V,idlName:"high",makeIdlValue:e},optimum:{makeAttrValue:V,idlName:"optimum",makeIdlValue:e}},_t={...i,data:{makeAttrValue:e,idlName:"data",makeIdlValue:e},type:{makeAttrValue:e,idlName:"type",makeIdlValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},form:{makeAttrValue:e},width:{makeAttrValue:e,idlName:"width",makeIdlValue:e},height:{makeAttrValue:e,idlName:"height",makeIdlValue:e}},Qt={...i,reversed:{makeAttrValue:E,idlName:"reversed",makeIdlValue:e},start:{makeAttrValue:V,idlName:"start",makeIdlValue:e},type:{makeAttrValue:e,idlName:"type",makeIdlValue:e}},Yt={...i,disabled:{makeAttrValue:E,idlName:"disabled",makeIdlValue:e},label:{makeAttrValue:e,idlName:"label",makeIdlValue:e}},Zt={...i,disabled:{makeAttrValue:E,idlName:"disabled",makeIdlValue:e},label:{makeAttrValue:e,idlName:"label",makeIdlValue:e},selected:{makeAttrValue:E,idlName:"selected",makeIdlValue:e},value:{makeAttrValue:e,idlName:"value",makeIdlValue:e}},en={...i,for:{makeAttrValue:e,idlName:"htmlFor",makeIdlValue:e},form:{makeAttrValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e}},tn={...i},nn={...i,name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},value:{makeAttrValue:e,idlName:"value",makeIdlValue:e}},an={...i},ln={...i},rn={...i,value:{makeAttrValue:V,idlName:"value",makeIdlValue:e},max:{makeAttrValue:V,idlName:"max",makeIdlValue:e}},on={...i,cite:{makeAttrValue:e,idlName:"cite",makeIdlValue:e}},dn={...i,src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},type:{makeAttrValue:e,idlName:"type",makeIdlValue:e},nomodule:{makeAttrValue:E,idlName:"noModule",makeIdlValue:e},async:{makeAttrValue:E,idlName:"async",makeIdlValue:e},defer:{makeAttrValue:E,idlName:"defer",makeIdlValue:e},crossorigin:{makeAttrValue:e,idlName:"crossOrigin",makeIdlValue:e},integrity:{makeAttrValue:e,idlName:"integrity",makeIdlValue:e},referrerpolicy:{makeAttrValue:e,idlName:"referrerPolicy",makeIdlValue:e}},mn={...i,autocomplete:{makeAttrValue:e,idlName:"autocomplete",makeIdlValue:e},disabled:{makeAttrValue:E,idlName:"disabled",makeIdlValue:e},form:{makeAttrValue:e},multiple:{makeAttrValue:E,idlName:"multiple",makeIdlValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},required:{makeAttrValue:E,idlName:"required",makeIdlValue:e},size:{makeAttrValue:V,idlName:"size",makeIdlValue:e},value:{idlName:"value",makeIdlValue:e}},un={...i,name:{makeAttrValue:e,idlName:"name",makeIdlValue:e}},sn={...i,type:{makeAttrValue:e,idlName:"type",makeIdlValue:e},src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},srcset:{makeAttrValue:e,idlName:"srcset",makeIdlValue:e},sizes:{makeAttrValue:e,idlName:"sizes",makeIdlValue:e},media:{makeAttrValue:e,idlName:"media",makeIdlValue:e},width:{makeAttrValue:V,idlName:"width",makeIdlValue:e},height:{makeAttrValue:V,idlName:"height",makeIdlValue:e}},cn={...i},fn={...i,media:{makeAttrValue:e,idlName:"media",makeIdlValue:e}},pn={...i},gn={...i},Te={...i},En={...i,colspan:{makeAttrValue:V,idlName:"colSpan",makeIdlValue:e},rowspan:{makeAttrValue:V,idlName:"rowSpan",makeIdlValue:e},headers:{makeAttrValue:e,idlName:"headers",makeIdlValue:e}},Ze={...i,span:{makeAttrValue:V,idlName:"span",makeIdlValue:e}},Vn={...i},hn={...i,autocomplete:{makeAttrValue:e,idlName:"autocomplete",makeIdlValue:e},cols:{makeAttrValue:V,idlName:"cols",makeIdlValue:e},dirname:{makeAttrValue:e,idlName:"dirName",makeIdlValue:e},disabled:{makeAttrValue:E,idlName:"disabled",makeIdlValue:e},form:{makeAttrValue:e},maxlength:{makeAttrValue:V,idlName:"maxLength",makeIdlValue:e},minlength:{makeAttrValue:V,idlName:"minLength",makeIdlValue:e},name:{makeAttrValue:e,idlName:"name",makeIdlValue:e},placeholder:{makeAttrValue:e,idlName:"placeholder",makeIdlValue:e},readonly:{makeAttrValue:E,idlName:"readOnly",makeIdlValue:e},required:{makeAttrValue:E,idlName:"required",makeIdlValue:e},rows:{makeAttrValue:V,idlName:"rows",makeIdlValue:e},wrap:{makeAttrValue:e,idlName:"wrap",makeIdlValue:e}},kn={...i,datetime:{makeAttrValue:e,idlName:"dateTime",makeIdlValue:e}},In={...i},Tn={...i},yn={...i,kind:{makeAttrValue:e,idlName:"kind",makeIdlValue:e},src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},srclang:{makeAttrValue:e,idlName:"srclang",makeIdlValue:e},label:{makeAttrValue:e,idlName:"label",makeIdlValue:e},default:{makeAttrValue:E,idlName:"default",makeIdlValue:e}},Mn={...i},bn={...i,src:{makeAttrValue:e,idlName:"src",makeIdlValue:e},crossorigin:{makeAttrValue:e,idlName:"crossOrigin",makeIdlValue:e},preload:{makeAttrValue:e,idlName:"preload",makeIdlValue:e},autoplay:{makeAttrValue:E,idlName:"autoplay",makeIdlValue:e},loop:{makeAttrValue:E,idlName:"loop",makeIdlValue:E},muted:{makeAttrValue:E,idlName:"muted",makeIdlValue:e},controls:{makeAttrValue:E,idlName:"controls",makeIdlValue:e},poster:{makeAttrValue:e,idlName:"poster",makeIdlValue:e},playsinline:{makeAttrValue:e,idlName:"playsInline",makeIdlValue:e},width:{makeAttrValue:V,idlName:"width",makeIdlValue:e},height:{makeAttrValue:V,idlName:"height",makeIdlValue:e}},vn={a:ht,abbr:i,address:i,area:kt,article:i,aside:i,audio:It,b:i,base:yt,bdi:i,bdo:i,blockquote:i,body:Mt,br:Tt,button:bt,canvas:vt,caption:gn,cite:i,code:i,col:Ze,colgroup:Ze,data:At,datalist:Nt,dd:i,del:Ye,details:Jt,dfn:i,dialog:Xt,div:xt,dl:St,dt:i,em:i,embed:Lt,fieldset:Ct,figcaption:i,figure:i,footer:i,form:Ht,h1:i,h2:i,h3:i,h4:i,h5:i,h6:i,head:Rt,header:i,heading:wt,hgroup:i,hr:Pt,html:Ft,i,iframe:Dt,image:Wt,img:i,input:Ot,ins:Ye,kbd:i,label:Bt,legend:Gt,li:Kt,link:Ut,main:i,map:zt,mark:i,menu:$t,meta:jt,meter:qt,nav:i,noscript:i,object:_t,ol:Qt,optgroup:Yt,option:Zt,output:en,p:tn,param:nn,picture:an,pre:ln,progress:rn,quote:on,rp:i,rt:i,ruby:i,s:i,samp:i,script:dn,section:i,select:mn,slot:un,small:i,source:sn,span:cn,strong:i,style:fn,sub:i,summary:i,sup:i,table:pn,tbody:Te,td:En,template:Vn,textarea:hn,tfoot:Te,th:i,thead:Te,time:kn,title:In,tr:Tn,track:yn,u:i,ul:Mn,var:i,video:bn,wbr:i};function et(t,n){return vn[t]?.[n]}function tt({domNode:t}){let n={domNode:t,children:[],domParent:null,mountFragment:document.createDocumentFragment(),jsxNode:null,onMount:[],onUnmount:[]};return n.domParent=n,n}function J({jsxNode:t,domNode:n,domParent:a,onMount:l,onUnmount:r}){return{domNode:n,children:[],domParent:a,mountFragment:n?document.createDocumentFragment():null,jsxNode:t,onMount:l,onUnmount:r}}function nt(t){let n=[];function a(l){l.domNode?n.push(l.domNode):l.children.forEach(r=>a(r))}return a(t),n}function Sn(t,n,a){let l=0;function r(d){return d.domNode?(l+=1,!1):o(d)}function o(d){let m=d===n?a:d.children.length;for(let s=0;s<m;++s)if(r(d.children[s]))return!0;return d===n}return o(t),l}function fe(t){t.children.forEach(n=>fe(n)),t.onMount&&t.onMount.forEach(n=>{try{n()}catch(a){Q(a,"VNode node raised exception in onMount",t)}})}function at(t){t.children.forEach(n=>at(n)),t.onUnmount&&t.onUnmount.forEach(n=>{try{n()}catch(a){Q(a,"VNode node raised exception in onUnmount",t)}})}function X(t){t.domNode&&t.domParent.mountFragment&&t.domParent.mountFragment.appendChild(t.domNode)}function F(t,n,a,l,{runOnMount:r=!0,runOnUnmount:o=!0}={}){let d;t.children[n]?d=t.children[n].domParent:(n=t.children.length,d=t.domNode?t:t.domParent),w(d,"tried to replace a root tree slot with missing domParent");let m=t.children.splice(n,a,...l),s=[];if(m.forEach(u=>{o&&at(u),nt(u).forEach(h=>{h.parentNode&&s.push([h.parentNode,h])})}),me(s,u=>u).forEach((u,p)=>{p.childNodes.length===u.length?p.replaceChildren():u.forEach(h=>p.removeChild(h))}),!d.domNode)throw new Error("Invariant: domParent missing domNode");let f=d.domNode;if(l.length>0){let u=Sn(d,t,n),p=f.childNodes[u],h=document.createDocumentFragment();for(let k=0;k<l.length;++k){let y=l[k];y.domParent=d,nt(y).forEach(v=>{h.appendChild(v)})}f.insertBefore(h,p||null),r&&l.forEach(k=>{fe(k)})}return m}function lt(t,n,...a){return typeof t=="string"?{[T]:"element",element:t,props:n,children:a}:Xe(t)?{[T]:"provider",context:t,value:n.value,children:a}:{[T]:"component",component:t,props:n,children:a}}var rt=new WeakMap;function it(t,n,a,l){if(a.startsWith("on:")&&typeof l=="function"){let r=a.slice(3),o=rt.get(n);o||(o={},rt.set(n,o)),o[a]&&n.removeEventListener(r,o[a]),n.addEventListener(r,l),o[a]=l}else{let r=et(t,a);if(r){if(r.makeAttrValue){let o=r.makeAttrValue(l);o===void 0?n.removeAttribute(a):n.setAttribute(a,o)}r.idlName&&r.makeIdlValue&&(n[r.idlName]=r.makeIdlValue(l))}else l===!1||l===void 0||l===null?n.removeAttribute(a):l===!0?n.setAttribute(a,""):typeof l=="string"&&n.setAttribute(a,l)}}function D({domParent:t,jsxNode:n,contextMap:a}){if(n==null||n===!1||n===!0){let l=J({domParent:t,jsxNode:n,domNode:null,onMount:[],onUnmount:[]});return X(l),l}if(typeof n=="string"){let l=J({domParent:t,jsxNode:n,domNode:document.createTextNode(n),onMount:[],onUnmount:[]});return X(l),l}if(typeof n=="number"){let l=J({domParent:t,jsxNode:n,domNode:document.createTextNode(n.toString()),onMount:[],onUnmount:[]});return X(l),l}if(je(n)){let l=document.createElement(n.element),r=[],o;n.props&&Object.entries(n.props).forEach(([m,s])=>{if(m==="ref"){if(Ae(s)){s.current=l;return}if(typeof s=="function"&&!R(s)){o=s;return}}if(R(s)){let c=j(()=>{let f=s();it(n.element,l,m,f)},`viewattr:${m}`);U(c),r.push(c),c()}else it(n.element,l,m,s)});let d=J({domParent:t,jsxNode:n,domNode:l,onMount:[()=>{o&&o(l)}],onUnmount:[()=>{r.forEach(m=>z(m)),o&&o(void 0)}]});return d.children=n.children.map(m=>D({domParent:d,jsxNode:m,contextMap:a})),d.mountFragment&&(l.appendChild(d.mountFragment),d.mountFragment=null),X(d),d}if(W(n)){let l=n,r=[],o=J({domParent:t,jsxNode:n,domNode:null,onMount:[],onUnmount:r});K(()=>{o.children.push(...l.map(m=>D({domParent:o.domParent,jsxNode:m,contextMap:a})))});let d=l[oe](m=>{if(m.type==="splice")K(()=>{let{count:s,index:c,items:f}=m,u=f.map(p=>D({domParent:o.domParent,jsxNode:p,contextMap:a}));F(o,c,s,u)});else if(m.type==="move"){let{fromIndex:s,fromCount:c,toIndex:f}=m,u=F(o,s,c,[],{runOnUnmount:!1});F(o,s<f?f-c:f,0,u,{runOnMount:!1})}else if(m.type==="sort"){let{indexes:s}=m,c=F(o,0,s.length,[],{runOnUnmount:!1}),f=s.map(u=>c[u]);F(o,0,0,f,{runOnMount:!1})}else Y(m,"unhandled collection event")});return U(l),r.push(d),r.push(()=>{z(l)}),X(o),o}if(R(n)){let l=n,r=[],o=J({domParent:t,jsxNode:n,domNode:null,onMount:[],onUnmount:r}),d=!0,m=j(()=>{let s=l(),c=D({domParent:o.domParent,jsxNode:s,contextMap:a});d?(d=!1,o.children.push(c)):F(o,0,o.children.length,[c])},`viewcalc:${ae(n)??"node"}`);return U(m),r.push(()=>z(m)),m(),X(o),o}if(_e(n)){let l=n,r=J({domParent:t,jsxNode:n,domNode:null,onMount:[],onUnmount:[]}),o=new Map(a);return o.set(l.context,l.value),r.children.push(...l.children.map(d=>D({domParent:t,jsxNode:d,contextMap:o}))),X(r),r}if(qe(n)){let l=[],r=J({domParent:t,jsxNode:n,domNode:null,onMount:[],onUnmount:l}),o=n.component,d=[],m=o({...n.props||{},children:n.children},{onUnmount:c=>{l.push(c)},onMount:c=>{d.push(c)},onEffect:(c,f)=>{let u=j(c,`componenteffect:${n.component.name}:${f??d.length}`);d.push(()=>{U(u),u()}),l.push(()=>{z(u)})},getContext:c=>a.has(c)?a.get(c):c()}),s=D({domParent:r.domParent,jsxNode:m,contextMap:a});return r.children.push(s),d.forEach(c=>r.onMount.push(c)),X(r),r}if(Array.isArray(n)){let l=n,r=J({domParent:t,jsxNode:n,domNode:null,onMount:[],onUnmount:[]});return r.children.push(...l.map(o=>D({domParent:t,jsxNode:o,contextMap:a}))),X(r),r}if(typeof n=="function"){let l=J({domParent:t,jsxNode:n,domNode:null,onMount:[],onUnmount:[]});return Se("Attempted to render JSX node that was a function, not rendering anything"),X(l),l}Y(n,"unexpected render type")}function ot(t,n){let a=tt({domNode:t});return a.children.push(D({domParent:a,jsxNode:n,contextMap:new Map})),a.mountFragment&&(t.appendChild(a.mountFragment),a.mountFragment=null),fe(a),()=>{F(a,0,a.children.length,[])}}var dt=({children:t})=>t;function mt(t,n){if(t===void 0&&n===void 0)return 0;if(t===void 0)return 1;if(n===void 0)return-1;let a=""+t,l=""+n;return a<l?-1:a>l?1:0}function _(t,n){if(!Array.isArray(t))throw new L("collection must be provided an array");return pe(t,"collection",{get(a,l,r){return l[r]},has(a,l,r){return r in l},set(a,l,r,o){if(r==="length"&&typeof o=="number"&&o<l.length)return this.splice(o,l.length-o),!0;let d=Number(r);return!isNaN(d)&&d<=t.length?this.splice(d,1,o):l[r]=o,!0},deleteProperty(a,l,r){return delete l[r],!0}},({notify:a,subscriptionNode:l,makeView:r,observe:o,addDeferredWork:d,processFieldChange:m,removeSubscriptionField:s})=>({splice:function(f,u,...p){if(u<1&&p.length===0)return[];let h=t.length,k=t.splice(f,u,...p),y=t.length;if(a({type:"splice",index:f,count:u,items:p,removed:k}),h===y)for(let M=f;M<f+u;++M)m(M.toString());else{for(let M=f;M<Math.max(y,h);++M){let v=M.toString();m(v),M>=y&&s(v)}m("length")}return k},pop:function(){return this.splice(t.length-1,1)[0]},shift:function(){return this.splice(0,1)[0]},push:function(...f){return this.splice(t.length,0,...f),t.length},unshift:function(...f){return this.splice(0,0,...f),t.length},reject:function(f){for(let u=t.length-1;u>=0;--u)f(this[u],u)&&this.splice(u,1)},moveSlice:function(f,u,p){if(u<=0||p>=f&&p<f+u)return;let h=t.splice(f,u);p<f?t.splice(p,0,...h):t.splice(p-u,0,...h),a({type:"move",fromIndex:f,fromCount:u,toIndex:p,moved:h})},sort:function(f=mt){let u=t.map((p,h)=>[p,h]);return t.sort(f),u.sort((p,h)=>f(p[0],h[0])),a({type:"sort",indexes:u.map(p=>p[1])}),this},reverse:function(f=mt){if(t.length===0)return this;t.reverse();let u=[];for(let p=t.length-1;p>=0;--p)u.push(p);return a({type:"sort",indexes:u}),this},makeView:r,mapView:function(f,u){return An(this,f,u)},filterView:function(f,u){return Nn(this,f,u)},flatMapView:function(f,u){return ye(this,f,u)}}),n)}function An(t,n,a){return ye(t,l=>[n(l)],a)}function Nn(t,n,a){return ye(t,l=>n(l)?[l]:[],a)}function ye(t,n,a){let l=[];return t.makeView({initialize:r=>{let o=[];return r.forEach(d=>{let m=n(d);o.push(...m),l.push(m.length)}),o},processEvent:(r,o,d)=>{if(o.type==="splice"){let{index:m,count:s,items:c}=o,f=0;for(let k=0;k<m;++k)f+=l[k];let u=0;for(let k=m;k<m+s;++k)u+=l[k];let p=[],h=[];c.forEach(k=>{let y=n(k);p.push(...y),h.push(y.length)}),r.splice(f,u,...p),l.splice(m,s,...h)}else if(o.type==="move"){let{fromIndex:m,fromCount:s,toIndex:c}=o,f=0;for(let u=m;u<m+s;++u)f+=l[u];if(f>0){let u=0,p=0,h=Math.max(m,c),k=0;for(let y=0;y<=h;++y)y===m&&(u=k),y===c&&(p=k),k+=l[y];r.moveSlice(u,f,p)}l.splice(c,0,...l.splice(m,s))}else if(o.type==="sort"){let{indexes:m}=o,s=[],c=0;for(let h=0;h<l.length;++h)s.push(c),c+=l[h];let f=d.slice(),u=[],p=0;m.forEach(h=>{let k=l[h];if(k===0)return;let y=s[h];for(let M=0;M<k;++M)u.push(y+M),d[p]=f[y+M],p+=1}),r[de]({type:"sort",indexes:u})}else Y(o,"unhandled collection event type")}},a)}function pe(t,n,a,l,r){let o=new Map,d=[],m=[],s={[T]:"subscription"};B(s,`${r||"?"}:sub`);function c(I){m.push(I),re(x)}function f(){let I=m;m=[],I.forEach(g=>{g()})}function u(I){d.forEach(g=>{g(I)})}function p(I){return d.length===0&&o.forEach(g=>{P(g,s)}),d.push(I),()=>{d=d.filter(g=>g!==I),d.length===0&&o.forEach(g=>{ce(g,s)})}}function h(I,g){let S=K(()=>I.initialize(t)),A=_(S,g);return p(ge=>{A[te](()=>I.processEvent(A,ge,S))}),P(x,A),P(s,A),A}function k(I){let g=v(I);re(g)}function y(I){if(d.length>0){let g=v(I);ce(g,s)}}let M={[T]:"data",[Z]:n,[ee]:f,[te]:c,[oe]:p,[de]:u,...l({addDeferredWork:c,observe:p,notify:u,makeView:h,subscriptionNode:s,processFieldChange:k,removeSubscriptionField:y})};function v(I){let g=o.get(I);return g||(g={model:x,key:I},r&&B(g,r),o.set(I,g),P(x,g),d.length>0&&P(g,s)),g}let x=new Proxy(t,{get(I,g){if(g in M)return M[g];let S=v(g);return se(S),a.get.call(x,u,I,g)},has(I,g){if(g in M)return!0;let S=v(g);return se(S),a.has.call(x,u,I,g)},set(I,g,S){if(g in M)return N(`Overriding ${String(g)} not supported`,g),!1;let A=a.set.call(x,u,I,g,S);if(A){let ge=v(g);re(ge)}return A},deleteProperty(I,g){if(g in M)return N(`Deleting ${String(g)} not supported`,g),!1;let S=a.deleteProperty.call(x,u,I,g);if(S){let A=v(g);re(A),d.length>0&&ce(A,s)}return S}});return r&&B(x,r),x}function Me(t,n){if(typeof t!="object"||!t)throw new L("model must be provided an object");let a=new Set(Object.keys(t));return pe(t,"model",{get:(l,r,o)=>r[o],has:(l,r,o)=>a.has(o),set:(l,r,o,d)=>{let m=!a.has(o)||r[o]!==d;return r[o]=d,m&&(a.has(o)||(a.add(o),l({type:"add",key:o})),l({type:"set",key:o,value:d})),!0},deleteProperty:(l,r,o)=>{let d=a.has(o);return delete r[o],d&&(a.delete(o),l({type:"delete",key:o})),!0}},({addDeferredWork:l,makeView:r,notify:o,observe:d,subscriptionNode:m})=>({[he]:function(c,f){let u=K(()=>c.initialize(t)),p=_(u,f);return d(h=>{p[te](()=>c.processEvent(p,h,u))}),P(m,p),p}}),n)}Me.keys=function(n,a){let l=new Set;return n[he]({initialize:o=>{let d=Object.keys(o);return d.forEach(m=>l.add(m)),d},processEvent:(o,d)=>{if(d.type==="add"){let{key:m}=d;if(typeof m=="number"||typeof m=="string"){let s=m.toString();l.has(s)||(l.add(s),o.push(s))}}else if(d.type==="delete"){let{key:m}=d;if(typeof m=="number"||typeof m=="string"){let s=m.toString();l.has(s)&&(l.delete(s),o.reject(c=>c===s))}}}},a)};var Jn=lt,Xn="0.2.0";return xn;})();
//# sourceMappingURL=index.min.js.map
