var Revise=(()=>{var me=Object.defineProperty;var In=Object.getOwnPropertyDescriptor;var xn=Object.getOwnPropertyNames;var Nn=Object.prototype.hasOwnProperty;var Ln=(e,n,t)=>n in e?me(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Jn=e=>me(e,"__esModule",{value:!0});var Xn=(e,n)=>{for(var t in n)me(e,t,{get:n[t],enumerable:!0})},Hn=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of xn(n))!Nn.call(e,a)&&(t||a!=="default")&&me(e,a,{get:()=>n[a],enumerable:!(i=In(n,a))||i.enumerable});return e};var Rn=(e=>(n,t)=>e&&e.get(n)||(t=Hn(Jn({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var x=(e,n,t)=>(Ln(e,typeof n!="symbol"?n+"":n,t),t);var oi={};Xn(oi,{Fragment:()=>Sn,InvariantError:()=>v,VERSION:()=>ri,calc:()=>tn,collection:()=>fe,createContext:()=>_e,debug:()=>sn,debugState:()=>cn,debugSubscribe:()=>un,default:()=>ii,effect:()=>Z,flush:()=>Ae,getLogLevel:()=>Ue,model:()=>Me,mount:()=>yn,nextFlush:()=>ye,ref:()=>Oe,release:()=>ue,reset:()=>en,retain:()=>ce,setLogLevel:()=>je,subscribe:()=>ln});var v=class extends Error{constructor(n,t){super(n);x(this,"detail");this.detail=t}},C=Symbol("reviseType"),ie=Symbol("dataTypeTag"),Ce=Symbol("calculationType"),Ie=Symbol("calculationRecalculate"),xe=Symbol("calculationInvalidate"),Ne=Symbol("calculationSetCycle"),pe=Symbol("observe"),ge=Symbol("getSubscriptionNode"),Le=Symbol("makeModelView"),z=Symbol("dispose"),re=Symbol("flush"),Je=Symbol("addDeferredWork"),Ee=Symbol("notify");function We(e){return e&&e[C]==="ref"}function Oe(e){return{[C]:"ref",current:e}}function _e(e){return Object.assign(()=>e,{[C]:"context"})}function Ge(e){return!!(e&&e[C]==="context")}function oe(e){return!!(e&&e[C]==="data"&&e[ie]==="model")}function $e(e){return!!(e&&!e[C]&&!!e.model&&!!e.model[ie])}function $(e){return!!(e&&e[C]==="data"&&e[ie]==="collection")}function V(e){return!!(e&&e[C]==="calculation")}function Be(e){return e[Ce]==="effect"}function ae(e){return!!(e&&e[C]==="subscription")}function Ke(e){return!!(e&&e[C]==="nodeOrdering")}var F={error:0,warn:1,info:2,debug:3},q=F.warn;function Ue(){return q>=F.info?"info":q>=F.warn?"warn":q>=F.debug?"debug":"error"}function je(e){wn(()=>e in F,e),q=F[e]}function ze(...e){q>=F.warn&&console.warn(...e)}function H(...e){q>=F.error&&console.error(...e)}function le(e,...n){e instanceof Error?(H(e),H(...n)):H(e,...n)}function wn(e,...n){e()||H("Invariant error",e.toString(),"is not truthy",...n)}function y(e,n){if(!e)throw H("Assertion failure",e===void 0?"undefined":e===null?"null":e.toString(),"is not truthy",n),new v(`Assertion failure: ${n}`)}function A(e,...n){throw H("Assertion failure",e,"is not exhausted",...n),new v("Assertion failure",{context:e,items:n})}var Xe=()=>{},P=(()=>{let e=0;return()=>(e++).toString()})();function qe(e,n){let t=new Map;return e.forEach(i=>{let[a,o]=n(i),d=t.get(a);d||(d=[],t.set(a,d)),d.push(o)}),t}function Ye(){return!0}function Qe(e,n){return e===n}var N=class{constructor(){x(this,"nextId");x(this,"nodesSet");x(this,"retained");x(this,"dirtyNodes");x(this,"knownCycles");x(this,"graph");x(this,"reverseGraph");this.nextId=1,this.nodesSet={},this.retained={},this.graph={},this.reverseGraph={},this.dirtyNodes={},this.knownCycles={}}getId(n){return n.$__id}addNode(n){let t=this.getId(n);return this.nodesSet[t]?!1:(this.graph[t]={},this.reverseGraph[t]={},this.nodesSet[t]=n,!0)}hasNode(n){return!!this.nodesSet[this.getId(n)]}markNodeDirty(n){this.dirtyNodes[this.getId(n)]=!0}getRecursiveDependenciesInner(n){let t={},i=[],a=!1,o=d=>{t[d]===2&&(a=!0),!t[d]&&(d!==n&&i.push(this.nodesSet[d]),t[d]=2,this.getDependenciesInner(d,N.EDGE_ANY).forEach(r=>{o(r)}),t[d]=1)};return o(n),{otherNodeIds:t,otherNodes:i,isCycle:a}}getRecursiveDependencies(n){let t=this.getId(n),{otherNodes:i,isCycle:a}=this.getRecursiveDependenciesInner(t);return y(!a,"getRecursiveDependencies found a cycle"),i}hasDirtyNodes(){return Object.keys(this.dirtyNodes).length>0}addEdge(n,t,i){let a=this.getId(n),o=this.getId(t);this.addEdgeInner(a,o,i)}addEdgeInner(n,t,i){y(!!this.nodesSet[n],"cannot add edge from node that does not exist"),y(!!this.nodesSet[t],"cannot add edge to node that does not exist"),this.graph[n][t]=(this.graph[n][t]||0)|i,this.reverseGraph[t][n]=(this.reverseGraph[t][n]||0)|i}removeEdge(n,t,i){let a=this.getId(n),o=this.getId(t);this.removeEdgeInner(a,o,i)}removeEdgeInner(n,t,i){y(!!this.nodesSet[n],"cannot remove edge from node that does not exist"),y(!!this.nodesSet[t],"cannot remove edge to node that does not exist"),this.graph[n][t]=(this.graph[n][t]||0)&~i,this.reverseGraph[t][n]=(this.reverseGraph[t][n]||0)&~i}removeNode(n){let t=this.getId(n);this.removeNodeInner(t)}removeNodeInner(n){y(!this.retained[n],"attempted to remove a retained node");let t=this.getDependenciesInner(n);this.getReverseDependenciesInner(n).forEach(a=>{this.graph[a][n]=0,this.reverseGraph[n][a]=0}),t.forEach(a=>{this.reverseGraph[a][n]=0,this.graph[n][a]=0}),delete this.nodesSet[n],delete this.dirtyNodes[n],delete this.retained[n],delete this.knownCycles[n]}retain(n){let t=this.getId(n);y(!this.retained[t],"double-retain"),this.retained[t]=!0}release(n){let t=this.getId(n);y(this.retained[t],"double-release"),delete this.retained[t]}replaceIncoming(n,t){let i=this.getId(n),a=this.getReverseDependenciesInner(i,N.EDGE_HARD),o=new Set(a),d=t.map(l=>this.getId(l)),r=new Set(d);a.forEach(l=>{r.has(l)||this.removeEdgeInner(l,i,N.EDGE_HARD)}),d.forEach(l=>{o.has(l)||this.addEdgeInner(l,i,N.EDGE_HARD)})}removeIncoming(n){let t=this.getId(n);this.getReverseDependenciesInner(t).forEach(a=>{this.removeEdgeInner(a,t,N.EDGE_HARD)})}getDependenciesInner(n,t=N.EDGE_ANY){return this.graph[n]?Object.keys(this.graph[n]).filter(i=>(this.graph[n][i]||0)&t):[]}getReverseDependenciesInner(n,t=N.EDGE_ANY){return this.reverseGraph[n]?Object.keys(this.reverseGraph[n]).filter(i=>(this.reverseGraph[n][i]||0)&t):[]}getDependencies(n,t=N.EDGE_ANY){let i=this.getId(n);return this.getDependenciesInner(i,t).map(a=>this.nodesSet[a])}_toposortRetained(){let n=0,t={},i=[],a=[],o=d=>{if(d.index=n,d.lowlink=n,n=n+1,i.push(d),d.onStack=!0,this.getReverseDependenciesInner(d.nodeId).forEach(r=>{t[r]||(t[r]={nodeId:r});let l=t[r];l.index===void 0?(o(l),d.lowlink=Math.min(d.lowlink,l.lowlink)):l.onStack&&(d.lowlink=Math.min(d.lowlink,l.index))}),d.lowlink===d.index){let r=[];for(;;){let l=i.pop();if(l.onStack=!1,r.push(l),l===d)break}a.push(r)}};return Object.keys(this.retained).forEach(d=>{this.retained[d]&&!t[d]&&(t[d]={nodeId:d},o(t[d]))}),a}_toposort(n){let t=0,i={},a=[],o=[],d=r=>{if(r.index=t,r.lowlink=t,t=t+1,a.push(r),r.onStack=!0,this.getDependenciesInner(r.nodeId).forEach(l=>{i[l]||(i[l]={nodeId:l,reachesRetained:!!this.retained[l]});let c=i[l];c.index===void 0?(d(c),r.lowlink=Math.min(r.lowlink,c.lowlink)):c.onStack&&(r.lowlink=Math.min(r.lowlink,c.index)),c.reachesRetained&&(r.reachesRetained=!0)}),r.lowlink===r.index){let l=[];for(;;){let c=a.pop();if(c.onStack=!1,l.push(c),c===r)break}o.push(l)}};return n.forEach(r=>{i[r]||(i[r]={nodeId:r,reachesRetained:!!this.retained[r]},d(i[r]))}),o.reverse()}process(n){Object.keys(this.dirtyNodes).forEach(o=>{this.dirtyNodes[o]&&n(this.nodesSet[o],"invalidate")});let t=!1;do t=!1,this._toposortRetained().forEach(o=>{let d=o.length>1,r=new Set(o.map(l=>l.nodeId));r.forEach(l=>{!!this.knownCycles[l]!==d&&(n(this.nodesSet[l],"invalidate"),this.dirtyNodes[l]=!0,this.knownCycles[l]=d)}),r.forEach(l=>{this.dirtyNodes[l]&&(n(this.nodesSet[l],d?"cycle":"recalculate")&&this.getDependenciesInner(l,N.EDGE_HARD).forEach(u=>{r.has(u)||(this.dirtyNodes[u]=!0,n(this.nodesSet[u],"invalidate"))}),t=!0,delete this.dirtyNodes[l])})});while(t);let i={},a=o=>{i[o]||(i[o]=!0,n(this.nodesSet[o],"invalidate"),this.getDependenciesInner(o,N.EDGE_HARD).forEach(d=>{a(d)}))};Object.keys(this.dirtyNodes).forEach(o=>{this.dirtyNodes[o]&&(a(o),delete this.dirtyNodes[o])})}graphviz(n){let t=["digraph debug {",'node [style="filled", fillcolor="#DDDDDD"];'],i=Object.keys(this.nodesSet).filter(r=>!!this.nodesSet[r]),a={};i.forEach(r=>{a[r]=n(r,this.nodesSet[r])});let o=qe(i,r=>[a[r].subgraph,r]),d=0;return o.forEach((r,l)=>{l&&t.push(`subgraph cluster_${d++} {`,'style="filled";','color="#AAAAAA";'),r.forEach(c=>{let u={shape:this.retained[c]?"box":"ellipse",label:a[c].label,penwidth:a[c].penwidth,fillcolor:this.dirtyNodes[c]?"#FFDDDD":"#DDDDDD"};t.push(`  item_${c} [${Object.entries(u).map(([g,E])=>`${g}=${JSON.stringify(E)}`).join(",")}];`)}),l&&t.push("}")}),i.forEach(r=>{Array.from(new Set(Object.keys(this.graph[r]))).forEach(c=>{this.graph[r][c]&N.EDGE_HARD&&t.push(`  item_${r} -> item_${c} [style="solid"];`),this.graph[r][c]&N.EDGE_SOFT&&t.push(`  item_${r} -> item_${c} [style="dashed"];`)})}),t.push("}"),t.join(`
`)}},L=N;x(L,"EDGE_NONE",0),x(L,"EDGE_SOFT",1),x(L,"EDGE_HARD",2),x(L,"EDGE_ANY",3);var W=new WeakMap;function Ze(){W=new WeakMap}function de(e){return""}function D(e,n){return e}var J=[],S=new L,Q={};function en(){J=[],S=new L,Q={},Ze()}var O;function nn(e){let n=O;O=[];try{return e(),O}finally{O=n}}function tn(e,n,t){typeof n=="string"&&(t=n),typeof n!="function"&&(n=Qe),typeof t!="string"&&(t=void 0);let i=on(e,n,!1);return t&&D(i,t),O&&O.push(i),i}function Z(e,n){let t=on(e,Ye,!0);return n&&D(t,n),O&&O.push(t),t}function se(e){J.push({calc:null,deps:[]});try{return e()}finally{J.pop()}}var rn=class extends Error{constructor(n,t){super(n);x(this,"originalError");this.originalError=t}},He=class extends Error{};function on(e,n,t){if(typeof e!="function")throw new v("calculation must be provided a function");let i,a=0,o,d=!1,r=Object.assign(l,{$__id:P(),[C]:"calculation",[Ce]:t?"effect":"calculation",[Ne]:u,[Ie]:g,[xe]:c,onError:E,dispose:m});S.addNode(r);function l(){switch(y(!d,"calculation already disposed"),t||Te(r),a){case 0:{a=1,J.push({calc:r,deps:[]});let f=i;try{i={result:e()}}catch(b){let U=J.pop();y(U?.calc===r,"calculation stack inconsistency"),S.replaceIncoming(r,U.deps);let ne=b instanceof He;if(a=ne?3:4,o?i={result:o(ne?"cycle":"error")}:i=void 0,i&&J.length===0)return f&&n(f.result,i.result)?f.result:i.result;throw ne?b:new rn("Calculation error: calculation threw error while being called",b)}a=2;let h=J.pop();return y(h?.calc===r,"calculation stack inconsistency"),S.replaceIncoming(r,h.deps),f&&n(f.result,i.result)?f.result:i.result}case 1:if(a=4,o&&(i={result:o("cycle")},J.length===0))return i.result;throw new He("Cycle reached: calculation is part of a cycle");case 2:if(i)return i.result;throw new v("Calculation in cached state missing result value");case 3:if(i)return i.result;throw new Error("Cycle reached: calculation is part of a cycle");case 4:if(i)return i.result;throw new Error("Calculation in error state");default:A(a,"Unexpected calculation state")}}function c(){switch(y(!d,"calculation already disposed"),a){case 1:throw new v("Cannot invalidate a calculation while being tracked");case 0:return;case 3:S.removeIncoming(r),a=0;break;case 2:case 4:{a=0;break}default:A(a,"Unexpected calculation state")}}function u(){switch(y(!d,"calculation already disposed"),a){case 1:throw new v("Cannot mark calculation as being a cycle while it is being calculated");case 0:case 2:case 3:case 4:if(a=3,o){let f=!1,h=o("cycle");return i&&(f=n(i.result,h)),f||(i={result:h}),!f}else return i?(i=void 0,!0):!1;default:A(a,"Unexpected calculation state")}}function g(){switch(y(!d,"calculation already disposed"),a){case 1:throw new v("Cannot recalculate calculation while it is being calculated");case 0:case 4:case 2:{let f=i;try{l()}catch{}return f&&i&&n(f.result,i.result)?(i=f,!1):!0}case 3:throw new v("Cannot recalculate calculation in cycle state without flushing");default:A(a,"Unexpected calculation state")}}function E(f){return y(!d,"calculation already disposed"),o=f,r}function m(){y(!d,"calculation already disposed"),S.removeNode(r),i=void 0,o=void 0,d=!0}return r}function Te(e){if(J.length===0)return;J[J.length-1].deps.push(e)}function Re(e,n){S.addNode(e),S.addNode(n),S.addEdge(e,n,L.EDGE_HARD)}function k(e){S.addNode(e)}function ee(e){S.removeNode(e)}function R(e,n){S.addEdge(e,n,L.EDGE_SOFT)}function an(e,n){S.removeEdge(e,n,L.EDGE_HARD)}function w(e,n){S.removeEdge(e,n,L.EDGE_SOFT)}function K(e){S.addNode(e),S.markNodeDirty(e),dn()}var B=!1,we=Promise.resolve(),Ve=Xe,he=()=>setTimeout(()=>Ae(),0);function ye(){return B?we:Promise.resolve()}function ln(e=Xe){he=e,B&&he()}function dn(){B||(B=!0,An())}function An(){try{we=new Promise(e=>{Ve=e}),he()}catch(e){le(e,"uncaught exception in notify")}}var Dn=null;function Ae(){!B||(B=!1,S.process((e,n)=>{let t=!0;switch(n){case"cycle":if(V(e))t=e[Ne]();else throw new Error("Unexpected dependency on cycle");break;case"invalidate":V(e)&&e[xe]();break;case"recalculate":V(e)?t=e[Ie]():($(e)||oe(e)||ae(e))&&(t=e[re]());break;default:A(n)}return t}),S.hasDirtyNodes()&&dn(),Ve())}function ce(e){let n=Q[e.$__id]??0,t=n+1;n===0&&(S.hasNode(e)||S.addNode(e),S.retain(e)),Q[e.$__id]=t}function ue(e){let n=Q[e.$__id]??0,t=Math.min(n-1,0);n<1&&H(`release called on unretained item ${de(e)}`,e),t<1&&S.release(e),Q[e.$__id]=t}function sn(e){return S.graphviz((n,t)=>{let i;return oe(t)&&(i=t),$(t)&&(i=t),$e(t)&&(i=t.model),ae(t)&&(i=t.item),{label:`${n}
${de(t)}`,subgraph:i,penwidth:e===t?"5.0":"1.0"}})}function cn(){return{globalDependencyGraph:S,activeCalculations:J,refcountMap:Q,needsFlush:B,flushPromise:we,resolveFlushPromise:Ve,subscribeListener:he}}function un(e){Dn=e}function pn(e){if(!!e)return""}function kn(e){if(e!==void 0)return typeof e=="number"?e:parseInt(e)}function Fn(e){if(e!==void 0)return e!=="no"}var s={accesskey:{idlName:"accessKey"},"aria-atomic":{idlName:"ariaAtomic"},"aria-autocomplete":{idlName:"ariaAutoComplete"},"aria-busy":{idlName:"ariaBusy"},"aria-checked":{idlName:"ariaChecked"},"aria-colcount":{idlName:"ariaColCount"},"aria-colindex":{idlName:"ariaColIndex"},"aria-colindextext":{idlName:"ariaColIndexText"},"aria-colspan":{idlName:"ariaColSpan"},"aria-current":{idlName:"ariaCurrent"},"aria-disabled":{idlName:"ariaDisabled"},"aria-expanded":{idlName:"ariaExpanded"},"aria-haspopup":{idlName:"ariaHasPopup"},"aria-hidden":{idlName:"ariaHidden"},"aria-invalid":{idlName:"ariaInvalid"},"aria-keyshortcuts":{idlName:"ariaKeyShortcuts"},"aria-label":{idlName:"ariaLabel"},"aria-level":{idlName:"ariaLevel"},"aria-live":{idlName:"ariaLive"},"aria-modal":{idlName:"ariaModal"},"aria-multiline":{idlName:"ariaMultiLine"},"aria-multiselectable":{idlName:"ariaMultiSelectable"},"aria-orientation":{idlName:"ariaOrientation"},"aria-placeholder":{idlName:"ariaPlaceholder"},"aria-posinset":{idlName:"ariaPosInSet"},"aria-pressed":{idlName:"ariaPressed"},"aria-readonly":{idlName:"ariaReadOnly"},"aria-required":{idlName:"ariaRequired"},"aria-roledescription":{idlName:"ariaRoleDescription"},"aria-rowcount":{idlName:"ariaRowCount"},"aria-rowindex":{idlName:"ariaRowIndex"},"aria-rowindextext":{idlName:"ariaRowIndexText"},"aria-rowspan":{idlName:"ariaRowSpan"},"aria-selected":{idlName:"ariaSelected"},"aria-setsize":{idlName:"ariaSetSize"},"aria-sort":{idlName:"ariaSort"},"aria-valuemax":{idlName:"ariaValueMax"},"aria-valuemin":{idlName:"ariaValueMin"},"aria-valuenow":{idlName:"ariaValueNow"},"aria-valuetext":{idlName:"ariaValueText"},autocapitalize:{},autofocus:{},class:{idlName:"className"},contenteditable:{idlName:"contentEditable"},dir:{},draggable:{},enterkeyhint:{idlName:"enterKeyHint"},hidden:{},id:{},inputmode:{idlName:"inputMode"},is:{idlName:null},itemid:{idlName:null},itemprop:{idlName:null},itemref:{idlName:null},itemscope:{idlName:null},itemtype:{idlName:null},lang:{},nonce:{},role:{},slot:{},spellcheck:{},style:{},tabindex:{idlName:"tabIndex",makeIdlValue:kn},title:{},translate:{makeIdlValue:Fn}},Pn={...s,href:{},target:{},download:{},ping:{},rel:{},hreflang:{},type:{},referrerpolicy:{idlName:"referrerPolicy"}},Wn={...s,alt:{},coords:{},shape:{},href:{},target:{},download:{},ping:{},rel:{},referrerpolicy:{idlName:"referrerPolicy"}},On={...s,src:{},crossorigin:{idlName:"crossOrigin"},preload:{},autoplay:{},loop:{makeIdlValue:pn},muted:{},controls:{}},_n={...s},Gn={...s,href:{},target:{}},$n={...s},Bn={...s,disabled:{},form:{idlName:null},formaction:{idlName:"formAction"},formenctype:{idlName:"formEnctype"},formmethod:{idlName:"formMethod"},formnovalidate:{idlName:"formNoValidate"},formtarget:{idlName:"formTarget"},name:{},type:{},value:{}},Kn={...s,width:{},height:{}},Un={...s},jn={...s,value:{}},zn={...s},qn={...s,open:{}},Yn={...s,open:{}},Qn={...s},Zn={...s,src:{},type:{},width:{},height:{}},et={...s,disabled:{},form:{idlName:null},name:{}},nt={...s,"accept-charset":{idlName:"acceptCharset"},action:{},autocomplete:{},enctype:{},method:{},name:{},novalidate:{idlName:"noValidate"},target:{},rel:{}},tt={...s},it={...s},rt={...s},ot={...s},at={...s,src:{},srcdoc:{},name:{},sandbox:{},allow:{},allowfullscreen:{idlName:"allowFullscreen"},width:{},height:{},referrerpolicy:{idlName:"referrerPolicy"},loading:{}},lt={...s,alt:{},src:{},srcset:{},sizes:{},crossorigin:{idlName:"crossOrigin"},usemap:{idlName:"useMap"},ismap:{idlName:"isMap"},width:{},height:{},referrerpolicy:{idlName:"referrerPolicy"},decoding:{},loading:{}},dt={...s,accept:{},alt:{},autocomplete:{},checked:{},dirname:{idlName:"dirName"},disabled:{},form:{},formaction:{idlName:"formAction"},formenctype:{idlName:"formEnctype"},formmethod:{idlName:"formMethod"},formnovalidate:{idlName:"formNoValidate"},formtarget:{idlName:"formTarget"},height:{},indeterminate:{makeAttrValue:null},list:{},max:{},maxlength:{},min:{},minlength:{idlName:"minLength"},multiple:{},name:{},pattern:{},placeholder:{},readonly:{idlName:"readOnly"},required:{},size:{},src:{},step:{},type:{},value:{},width:{}},fn={...s,cite:{},datetime:{idlName:"dateTime"}},st={...s,for:{idlName:"htmlFor"}},ct={...s},ut={...s,value:{}},ft={...s,href:{},crossorigin:{idlName:"crossOrigin"},rel:{},media:{},integrity:{},hreflang:{},type:{},referrerpolicy:{idlName:"referrerPolicy"},sizes:{},imagesrcset:{idlName:"imageSrcset"},imagesizes:{idlName:"imageSizes"},as:{},color:{idlName:null},disabled:{}},mt={...s,name:{}},pt={...s},gt={...s,name:{},"http-equiv":{idlName:"httpEquiv"},content:{},charset:{idlName:null},media:{}},Et={...s,value:{},min:{},max:{},low:{},high:{},optimum:{}},ht={...s,data:{},type:{},name:{},form:{idlName:null},width:{},height:{}},Tt={...s,reversed:{},start:{},type:{}},yt={...s,disabled:{},label:{}},St={...s,disabled:{},label:{},selected:{},value:{}},bt={...s,for:{idlName:"htmlFor"},form:{idlName:null},name:{}},Mt={...s},vt={...s,name:{},value:{}},Ct={...s},It={...s},xt={...s,value:{},max:{}},Nt={...s,cite:{}},Lt={...s,src:{},type:{},nomodule:{idlName:"noModule"},async:{},defer:{},crossorigin:{idlName:"crossOrigin"},integrity:{},referrerpolicy:{idlName:"referrerPolicy"}},Jt={...s,autocomplete:{},disabled:{},form:{idlName:null},multiple:{},name:{},required:{},size:{},value:{makeAttrValue:null}},Xt={...s,name:{}},Ht={...s,type:{},src:{},srcset:{},sizes:{},media:{},width:{},height:{}},Rt={...s},wt={...s,media:{}},Vt={...s},At={...s},De={...s},Dt={...s,colspan:{idlName:"colSpan"},rowspan:{idlName:"rowSpan"},headers:{}},mn={...s,span:{}},kt={...s},Ft={...s,autocomplete:{},cols:{},dirname:{idlName:"dirName"},disabled:{},form:{idlName:null},maxlength:{idlName:"maxLength"},minlength:{idlName:"minLength"},name:{},placeholder:{},readonly:{idlName:"readOnly"},required:{},rows:{},wrap:{}},Pt={...s,datetime:{idlName:"dateTime"}},Wt={...s},Ot={...s},_t={...s,kind:{},src:{},srclang:{},label:{},default:{}},Gt={...s},$t={...s,src:{},crossorigin:{idlName:"crossOrigin"},preload:{},autoplay:{},loop:{makeIdlValue:pn},muted:{},controls:{},poster:{},playsinline:{idlName:"playsInline"},width:{},height:{}},Bt={a:Pn,abbr:s,address:s,area:Wn,article:s,aside:s,audio:On,b:s,base:Gn,bdi:s,bdo:s,blockquote:s,body:$n,br:_n,button:Bn,canvas:Kn,caption:At,cite:s,code:s,col:mn,colgroup:mn,data:jn,datalist:zn,dd:s,del:fn,details:qn,dfn:s,dialog:Yn,div:Qn,dl:Un,dt:s,em:s,embed:Zn,fieldset:et,figcaption:s,figure:s,footer:s,form:nt,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,head:it,header:s,heading:tt,hgroup:s,hr:rt,html:ot,i:s,iframe:at,image:lt,img:s,input:dt,ins:fn,kbd:s,label:st,legend:ct,li:ut,link:ft,main:s,map:mt,mark:s,menu:pt,meta:gt,meter:Et,nav:s,noscript:s,object:ht,ol:Tt,optgroup:yt,option:St,output:bt,p:Mt,param:vt,picture:Ct,pre:It,progress:xt,quote:Nt,rp:s,rt:s,ruby:s,s,samp:s,script:Lt,section:s,select:Jt,slot:Xt,small:s,source:Ht,span:Rt,strong:s,style:wt,sub:s,summary:s,sup:s,table:Vt,tbody:De,td:Dt,template:kt,textarea:Ft,tfoot:De,th:s,thead:De,time:Pt,title:Wt,tr:Ot,track:_t,u:s,ul:Gt,var:s,video:$t,wbr:s};function gn(e,n){return Bt[e]?.[n]}function Kt(e){let n=[];function t(i){i.domNode?n.push(i.domNode):i.children?.forEach(a=>t(a))}return t(e),n}function Ut(e,n,t){let i=0;function a(d){return d.domNode?(i+=1,!1):o(d)}function o(d){if(d.children){let r=d===n?t:d.children.length;for(let l=0;l<r;++l)if(a(d.children[l]))return!0}return d===n}return o(e),i}function Se(e){e.children?.forEach(n=>Se(n)),e.onMount&&e.onMount.forEach(n=>{try{n()}catch(t){le(t,"VNode node raised exception in onMount",e)}})}function En(e,n,t){n&&e.domNode&&n.push(e.domNode),e.children?.forEach(i=>{En(i,e.domNode?void 0:n,t)}),t&&e.onUnmount&&e.onUnmount.forEach(i=>{try{i()}catch(a){le(a,"VNode node raised exception in onUnmount",e)}})}function _(e,n,t,i,{runOnMount:a=!0,runOnUnmount:o=!0}={}){y(e.children,"attempted to splice a parent node with no children");let d=e.domNode?e:e.domParent;n>e.children.length&&(n=e.children.length),y(d&&d.domNode,"tried to replace a root tree slot with missing domParent");let r=d.domNode,l=e.children.splice(n,t,...i),c=[];if(l.forEach(u=>{En(u,c,o)}),r.childNodes.length===c.length?r.replaceChildren():c.forEach(u=>r.removeChild(u)),i.length>0){let u=Ut(d,e,n),g=r.childNodes[u],E=document.createDocumentFragment();for(let m=0;m<i.length;++m){let f=i[m];f.domParent=d,Kt(f).forEach(b=>{E.appendChild(b)})}r.insertBefore(E,g||null),a&&i.forEach(m=>{m&&Se(m)})}return l}function Tn(...e){return{__node:e}}function hn(e,n,t,i,a){if(t.startsWith("on:")&&typeof i=="function"){let o=t.slice(3);a[t]&&n.removeEventListener(o,a[t]),n.addEventListener(o,i),a[t]=i}else{let o=gn(e,t);if(o){if(o.makeAttrValue!==null){let d=o.makeAttrValue?o.makeAttrValue(i):i;d==null||d===!1?n.removeAttribute(t):d===!0?n.setAttribute(t,""):n.setAttribute(t,d)}o.idlName!==null&&(n[o.idlName??t]=o.makeIdlValue?o.makeIdlValue(i):i)}else i===!1||i===void 0||i===null?n.removeAttribute(t):i===!0?n.setAttribute(t,""):typeof i=="string"&&n.setAttribute(t,i)}}function jt(e){return $(e)}function G(e,n,t,i,a){if(e==null||e===!1||e===!0)return{domParent:n};if(typeof e=="string"){let o=document.createTextNode(e);return a.appendChild(o),{domNode:o,domParent:n}}if(typeof e=="number"){let o=document.createTextNode(e.toString());return a.appendChild(o),{domNode:o,domParent:n}}return V(e)?Zt(e,n,t,i,a):jt(e)?ei(e,n,t,i,a):Array.isArray(e)?{domParent:n,children:e.map(o=>G(o,n,t,i,a))}:typeof e=="function"?(ze("Attempted to render JSX node that was a function, not rendering anything"),{domParent:n}):zt(e,n,t,i,a)}function zt(e,n,t,i,a){let[o,d,...r]=e.__node;return typeof o=="string"?qt(o,d,r,n,t,i,a):Ge(o)?Yt(o,d.value,r,n,t,i,a):Qt(o,d,r,n,t,i,a)}function qt(e,n,t,i,a,o,d){let r=document.createElement(e),l={},c=[],u;n&&Object.entries(n).forEach(([E,m])=>{if(E==="ref"){if(We(m)){m.current=r;return}if(typeof m=="function"&&!V(m)){u=m;return}}if(V(m)){let f=Z(()=>{let h=m();hn(e,r,E,h,l)},`viewattr:${E}`);c.push(()=>{w(f,a),f.dispose()}),R(f,a),f()}else hn(e,r,E,m,l)});let g={domParent:i,domNode:r,onMount:[()=>{u&&u(r)}],onUnmount:[()=>{c.forEach(E=>E()),u&&u(void 0)}]};if(t&&t.length>0){let E=document.createDocumentFragment(),m=t.map(f=>G(f,g,a,o,E));g.children=m,r.appendChild(E)}return d.appendChild(r),g}function Yt(e,n,t,i,a,o,d){let r=new Map(o);r.set(e,n);let l={domParent:i};return t&&(l.children=t.map(c=>G(c,i,a,r,d))),l}function Qt(e,n,t,i,a,o,d){let r=[],l=[],c,u=nn(()=>{c=e({...n,children:t},{onUnmount:m=>{r.push(m)},onMount:m=>{l.push(m)},onEffect:(m,f)=>{let h=Z(m,`componenteffect:${e.name}:${f??"?"}`);l.push(()=>{ce(h),R(a,h),h()}),r.push(()=>{w(a,h),ue(h),h.dispose()})},getContext:m=>o.has(m)?o.get(m):m()})});r.push(()=>{u.forEach(m=>{m.dispose()})});let g=G(c,i,a,o,d);return{domParent:i,children:[g],onMount:l,onUnmount:r}}function Zt(e,n,t,i,a){let o=[],d=[],r={domParent:n,children:d,onUnmount:o},l=ke("viewcalc:order");k(l);let c=!0,u=Z(()=>{let g=e(),E=G(g,n,l,i,a);c?(c=!1,d.push(E)):_(r,0,d.length,[E])},`viewcalc:${de(e)??"node"}`);return R(l,t),R(u,l),o.push(()=>{w(l,t),w(u,l),u.dispose(),ee(l)}),u(),r}function ei(e,n,t,i,a){let o=[],r={domParent:n,children:[],onUnmount:o},l=ke("viewcoll:order");k(l),R(l,t),o.push(()=>{w(l,t)}),se(()=>{r.children.push(...e.map(g=>G(g,n,l,i,a)))});let c=e[pe](g=>{g.forEach(E=>{if(E.type==="splice")se(()=>{let{count:m,index:f,items:h}=E,b=h.map(U=>G(U,n,l,i,a));_(r,f,m,b)});else if(E.type==="move"){let{fromIndex:m,fromCount:f,toIndex:h}=E,b=_(r,m,f,[],{runOnUnmount:!1});_(r,m<h?h-f:h,0,b,{runOnMount:!1})}else if(E.type==="sort"){let{indexes:m}=E,f=_(r,0,m.length,[],{runOnUnmount:!1}),h=m.map(b=>f[b]);_(r,0,0,h,{runOnMount:!1})}else A(E,"unhandled collection event")})}),u=e[ge]();return k(u),R(u,l),o.push(c),o.push(()=>{w(u,l)}),r}function ke(e){let n={$__id:P(),[C]:"nodeOrdering"};return e&&D(n,e),n}function yn(e,n){let t=new Map,i=ke("mount");ce(i);let a={domNode:e},o=document.createDocumentFragment(),d=G(n,a,i,t,o);return a.children=[d],e.appendChild(o),Se(a),()=>{_(a,0,a.children?.length??0,[]),ue(i)}}var Sn=({children:e})=>e;function bn(e,n){if(e===void 0&&n===void 0)return 0;if(e===void 0)return 1;if(n===void 0)return-1;let t=""+e,i=""+n;return t<i?-1:t>i?1:0}function fe(e,n){if(!Array.isArray(e))throw new v("collection must be provided an array");return be(e,"collection",{get(t,i,a){return i[a]},has(t,i,a){return a in i},set(t,i,a,o){if(a==="length"&&typeof o=="number"&&o<i.length)return this.splice(o,i.length-o),!0;let d=Number(a);return!isNaN(d)&&d<=e.length?this.splice(d,1,o):i[a]=o,!0},deleteProperty(t,i,a){return delete i[a],!0}},({notify:t,subscriptionNode:i,makeView:a,processFieldChange:o,processFieldDelete:d})=>({splice:function(l,c,...u){if(c<1&&u.length===0)return[];let g=e.length,E=e.splice(l,c,...u),m=e.length;if(t({type:"splice",index:l,count:c,items:u,removed:E}),g===m)for(let f=l;f<l+c;++f)o(f.toString());else{for(let f=l;f<Math.max(m,g);++f){let h=f.toString();f>=m?d(h):o(h)}o("length")}return E},pop:function(){return this.splice(e.length-1,1)[0]},shift:function(){return this.splice(0,1)[0]},push:function(...l){return this.splice(e.length,0,...l),e.length},unshift:function(...l){return this.splice(0,0,...l),e.length},reject:function(l){let c=[];for(let u=e.length-1;u>=0;--u)l(this[u],u)&&c.push(...this.splice(u,1));return c},moveSlice:function(l,c,u){if(c<=0||u>=l&&u<l+c)return;let g=e.splice(l,c);u<l?e.splice(u,0,...g):e.splice(u-c,0,...g),t({type:"move",fromIndex:l,fromCount:c,toIndex:u,moved:g})},sort:function(l=bn){let c=e.map((u,g)=>[u,g]);return e.sort(l),c.sort((u,g)=>l(u[0],g[0])),t({type:"sort",indexes:c.map(u=>u[1])}),this},reverse:function(l=bn){if(e.length===0)return this;e.reverse();let c=[];for(let u=e.length-1;u>=0;--u)c.push(u);return t({type:"sort",indexes:c}),this},makeView:a,mapView:function(l,c){return ni(this,l,c)},filterView:function(l,c){return ti(this,l,c)},flatMapView:function(l,c){return Fe(this,l,c)}}),n)}fe.dispose=function(n){n[z]()};function ni(e,n,t){return Fe(e,i=>[n(i)],t)}function ti(e,n,t){return Fe(e,i=>n(i)?[i]:[],t)}function Fe(e,n,t){let i=[];return e.makeView({initialize:a=>{let o=[];return a.forEach(d=>{let r=n(d);o.push(...r),i.push(r.length)}),o},processEvent:(a,o,d)=>{if(o.type==="splice"){let{index:r,count:l,items:c}=o,u=0;for(let f=0;f<r;++f)u+=i[f];let g=0;for(let f=r;f<r+l;++f)g+=i[f];let E=[],m=[];c.forEach(f=>{let h=n(f);E.push(...h),m.push(h.length)}),a.splice(u,g,...E),i.splice(r,l,...m)}else if(o.type==="move"){let{fromIndex:r,fromCount:l,toIndex:c}=o,u=0;for(let g=r;g<r+l;++g)u+=i[g];if(u>0){let g=0,E=0,m=Math.max(r,c),f=0;for(let h=0;h<=m;++h)h===r&&(g=f),h===c&&(E=f),f+=i[h];a.moveSlice(g,u,E)}i.splice(c,0,...i.splice(r,l))}else if(o.type==="sort"){let{indexes:r}=o,l=[],c=0;for(let m=0;m<i.length;++m)l.push(c),c+=i[m];let u=d.slice(),g=[],E=0;r.forEach(m=>{let f=i[m];if(f===0)return;let h=l[m];for(let b=0;b<f;++b)g.push(h+b),d[E]=u[h+b],E+=1}),a[Ee]({type:"sort",indexes:g})}else A(o,"unhandled collection event type")}},t)}function be(e,n,t,i,a){let o=new Map,d=new Map,r=[],l=!1,c=[],u={$__id:P(),[C]:"subscription",[re]:g,item:null};D(u,`${a||"?"}:sub`);function g(){y(!l,"data already disposed");let T=!1,p=d;return d=new Map,p.forEach((M,X)=>{T=!0,X(M)}),T}function E(){y(!l,"data already disposed");let T=c,p=!1;return c=[],T.forEach(M=>{p=!0,M()}),p}function m(T){y(!l,"data already disposed"),c.push(T),K(I)}function f(T){y(!l,"data already disposed"),r.length>0&&(r.forEach(p=>{let M=d.get(p);M||(M=[],d.set(p,M)),M.push(T)}),K(u))}function h(){return y(!l,"data already disposed"),u}function b(T){return y(!l,"data already disposed"),r.length===0&&(k(I),k(u),Re(I,u),o.forEach(p=>{R(p,u)})),r.push(T),()=>{r=r.filter(p=>p!==T),r.length===0&&(an(I,u),o.forEach(p=>{w(p,u)}))}}function U(T,p){y(!l,"data already disposed");let M=se(()=>T.initialize(e)),X=fe(M,p);return b(ve=>{X[Je](()=>{ve.forEach(Cn=>{T.processEvent(X,Cn,M)})})}),Re(u,X),X}function ne(T){y(!l,"data already disposed");let p=j(T);K(p)}function Mn(T){y(!l,"data already disposed");let p=j(T);K(p)}function vn(){y(!l,"data already disposed"),o.forEach(T=>{w(I,T),r.length>0&&w(T,u),ee(T)}),o.clear(),ee(I),ee(u),r.splice(0,r.length),d.clear(),c.splice(0,c.length),ye().then(()=>{Pe.revoke()}),l=!0}let te={$__id:P(),[C]:"data",[ie]:n,[re]:E,[Je]:m,[pe]:b,[Ee]:f,[ge]:h,[z]:vn,...i({observe:b,notify:f,makeView:U,subscriptionNode:u,processFieldChange:ne,processFieldDelete:Mn})};function j(T){let p=o.get(T);return p||(p={model:I,key:T,$__id:P()},a&&D(p,a),o.set(T,p),k(p),R(I,p),r.length>0&&R(p,u)),p}let Pe=Proxy.revocable(e,{get(T,p){if(p in te)return te[p];let M=j(p);return Te(M),t.get.call(I,f,T,p)},has(T,p){if(p in te)return!0;let M=j(p);return Te(M),t.has.call(I,f,T,p)},set(T,p,M){if(p in te)return H(`Overriding ${String(p)} not supported`,p),!1;let X=t.set.call(I,f,T,p,M);if(X){let ve=j(p);K(ve)}return X},deleteProperty(T,p){if(p in te)return H(`Deleting ${String(p)} not supported`,p),!1;let M=t.deleteProperty.call(I,f,T,p);if(M){let X=j(p);K(X)}return M}}),I=Pe.proxy;return u.item=I,a&&D(I,a),k(I),I}function Me(e,n){if(typeof e!="object"||!e)throw new v("model must be provided an object");let t=new Set(Object.keys(e));return be(e,"model",{get:(i,a,o)=>a[o],has:(i,a,o)=>t.has(o),set:(i,a,o,d)=>{let r=!t.has(o)||a[o]!==d;return a[o]=d,r&&(t.has(o)||(t.add(o),i({type:"add",key:o})),i({type:"set",key:o,value:d})),!0},deleteProperty:(i,a,o)=>{let d=t.has(o);return delete a[o],d&&(t.delete(o),i({type:"delete",key:o})),!0}},({makeView:i,notify:a,observe:o,subscriptionNode:d})=>({[Le]:i}),n)}Me.keys=function(n,t){let i=new Set;return n[Le]({initialize:o=>{let d=Object.keys(o);return d.forEach(r=>i.add(r)),d},processEvent:(o,d)=>{if(d.type==="add"){let{key:r}=d;if(typeof r=="number"||typeof r=="string"){let l=r.toString();i.has(l)||(i.add(l),o.push(l))}}else if(d.type==="delete"){let{key:r}=d;if(typeof r=="number"||typeof r=="string"){let l=r.toString();i.has(l)&&(i.delete(l),o.reject(c=>c===l))}}}},t)};Me.dispose=function(n){n[z]()};var ii=Tn,ri="0.6.0";return Rn(oi);})();
//# sourceMappingURL=index.min.js.map
