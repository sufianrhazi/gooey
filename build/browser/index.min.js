var Gooey=(()=>{var ge=Object.defineProperty;var Vn=Object.getOwnPropertyDescriptor;var An=Object.getOwnPropertyNames;var Dn=Object.prototype.hasOwnProperty;var Pn=(e,n,t)=>n in e?ge(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var kn=e=>ge(e,"__esModule",{value:!0});var Fn=(e,n)=>{for(var t in n)ge(e,t,{get:n[t],enumerable:!0})},On=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of An(n))!Dn.call(e,a)&&(t||a!=="default")&&ge(e,a,{get:()=>n[a],enumerable:!(r=Vn(n,a))||r.enumerable});return e};var Wn=(e=>(n,t)=>e&&e.get(n)||(t=On(kn({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var H=(e,n,t)=>(Pn(e,typeof n!="symbol"?n+"":n,t),t);var gr={};Fn(gr,{Fragment:()=>Ue,InvariantError:()=>v,VERSION:()=>Er,calc:()=>mn,collection:()=>Ee,createContext:()=>Se,debug:()=>yn,debugState:()=>Sn,debugSubscribe:()=>bn,default:()=>pr,effect:()=>ne,flush:()=>Ge,getLogLevel:()=>an,model:()=>He,mount:()=>Ln,nextFlush:()=>ve,ref:()=>en,release:()=>fe,reset:()=>un,retain:()=>ue,setLogLevel:()=>on,subscribe:()=>hn});var v=class extends Error{constructor(n,t){super(n);H(this,"detail");this.detail=t}},x=Symbol("typeTag"),Qe=Symbol("contextGetter"),ie=Symbol("dataTypeTag"),Le=Symbol("calculationType"),Je=Symbol("calculationRecalculate"),we=Symbol("calculationInvalidate"),Re=Symbol("calculationSetCycle"),he=Symbol("observe"),Te=Symbol("getSubscriptionNode"),Ve=Symbol("makeModelView"),Y=Symbol("dispose"),ae=Symbol("flush"),Ae=Symbol("addDeferredWork"),ye=Symbol("notify");function Ze(e){return e&&e[x]==="ref"}function en(e){return{[x]:"ref",current:e}}function Se(e){return Object.assign(()=>{throw new Error("Do not call contexts as functions")},{[Qe]:()=>e,[x]:"context"})}function De(e){return e[Qe]()}function nn(e){return!!(e&&e[x]==="context")}function oe(e){return!!(e&&e[x]==="data"&&e[ie]==="model")}function be(e){return!!(e&&!e[x]&&!!e.model&&!!e.model[ie])}function K(e){return!!(e&&e[x]==="data"&&e[ie]==="collection")}function P(e){return!!(e&&e[x]==="calculation")}function tn(e){return e[Le]==="effect"}function le(e){return!!(e&&e[x]==="subscription")}function rn(e){return!!(e&&e[x]==="nodeOrdering")}var O={error:0,warn:1,info:2,debug:3},Q=O.warn;function an(){return Q>=O.info?"info":Q>=O.warn?"warn":Q>=O.debug?"debug":"error"}function on(e){_n(()=>e in O,e),Q=O[e]}function Pe(...e){Q>=O.warn&&console.warn(...e)}function R(...e){Q>=O.error&&console.error(...e)}function de(e,...n){e instanceof Error?(R(e),R(...n)):R(e,...n)}function _n(e,...n){e()||R("Invariant error",e.toString(),"is not truthy",...n)}function y(e,n){if(!e)throw R("Assertion failure",e===void 0?"undefined":e===null?"null":e.toString(),"is not truthy",n),new v(`Assertion failure: ${n}`)}function V(e,...n){throw R("Assertion failure",e,"is not exhausted",...n),new v("Assertion failure",{context:e,items:n})}var ke=()=>{},W=(()=>{let e=0;return()=>(e++).toString()})();function ln(e,n){let t=new Map;return e.forEach(r=>{let[a,o]=n(r),d=t.get(a);d||(d=[],t.set(a,d)),d.push(o)}),t}function dn(){return!0}function sn(e,n){return e===n}var N=class{constructor(){H(this,"nextId");H(this,"nodesSet");H(this,"retained");H(this,"dirtyNodes");H(this,"knownCycles");H(this,"graph");H(this,"reverseGraph");this.nextId=1,this.nodesSet={},this.retained={},this.graph={},this.reverseGraph={},this.dirtyNodes={},this.knownCycles={}}getId(n){return n.$__id}addNode(n){let t=this.getId(n);return this.nodesSet[t]?!1:(this.graph[t]={},this.reverseGraph[t]={},this.nodesSet[t]=n,!0)}hasNode(n){return!!this.nodesSet[this.getId(n)]}markNodeDirty(n){this.dirtyNodes[this.getId(n)]=!0}getRecursiveDependenciesInner(n){let t={},r=[],a=!1,o=d=>{t[d]===2&&(a=!0),!t[d]&&(d!==n&&r.push(this.nodesSet[d]),t[d]=2,this.getDependenciesInner(d,N.EDGE_ANY).forEach(i=>{o(i)}),t[d]=1)};return o(n),{otherNodeIds:t,otherNodes:r,isCycle:a}}getRecursiveDependencies(n){let t=this.getId(n),{otherNodes:r,isCycle:a}=this.getRecursiveDependenciesInner(t);return y(!a,"getRecursiveDependencies found a cycle"),r}hasDirtyNodes(){return Object.keys(this.dirtyNodes).length>0}addEdge(n,t,r){let a=this.getId(n),o=this.getId(t);this.addEdgeInner(a,o,r)}addEdgeInner(n,t,r){y(!!this.nodesSet[n],"cannot add edge from node that does not exist"),y(!!this.nodesSet[t],"cannot add edge to node that does not exist"),this.graph[n][t]=(this.graph[n][t]||0)|r,this.reverseGraph[t][n]=(this.reverseGraph[t][n]||0)|r}removeEdge(n,t,r){let a=this.getId(n),o=this.getId(t);this.removeEdgeInner(a,o,r)}removeEdgeInner(n,t,r){y(!!this.nodesSet[n],"cannot remove edge from node that does not exist"),y(!!this.nodesSet[t],"cannot remove edge to node that does not exist"),this.graph[n][t]=(this.graph[n][t]||0)&~r,this.reverseGraph[t][n]=(this.reverseGraph[t][n]||0)&~r}removeNode(n){let t=this.getId(n);this.removeNodeInner(t)}removeNodeInner(n){y(!this.retained[n],"attempted to remove a retained node");let t=this.getDependenciesInner(n);this.getReverseDependenciesInner(n).forEach(a=>{this.graph[a][n]=0,this.reverseGraph[n][a]=0}),t.forEach(a=>{this.reverseGraph[a][n]=0,this.graph[n][a]=0}),delete this.nodesSet[n],delete this.dirtyNodes[n],delete this.retained[n],delete this.knownCycles[n]}retain(n){let t=this.getId(n);y(!this.retained[t],"double-retain"),this.retained[t]=!0}release(n){let t=this.getId(n);y(this.retained[t],"double-release"),delete this.retained[t]}replaceIncoming(n,t){let r=this.getId(n),a=this.getReverseDependenciesInner(r,N.EDGE_HARD),o=new Set(a),d=t.map(l=>this.getId(l)),i=new Set(d);a.forEach(l=>{i.has(l)||this.removeEdgeInner(l,r,N.EDGE_HARD)}),d.forEach(l=>{o.has(l)||this.addEdgeInner(l,r,N.EDGE_HARD)})}removeIncoming(n){let t=this.getId(n);this.getReverseDependenciesInner(t).forEach(a=>{this.removeEdgeInner(a,t,N.EDGE_HARD)})}getDependenciesInner(n,t=N.EDGE_ANY){return this.graph[n]?Object.keys(this.graph[n]).filter(r=>(this.graph[n][r]||0)&t):[]}getReverseDependenciesInner(n,t=N.EDGE_ANY){return this.reverseGraph[n]?Object.keys(this.reverseGraph[n]).filter(r=>(this.reverseGraph[n][r]||0)&t):[]}getDependencies(n,t=N.EDGE_ANY){let r=this.getId(n);return this.getDependenciesInner(r,t).map(a=>this.nodesSet[a])}_toposortRetained(){let n=0,t={},r=[],a=[],o=d=>{if(d.index=n,d.lowlink=n,n=n+1,r.push(d),d.onStack=!0,this.getReverseDependenciesInner(d.nodeId).forEach(i=>{t[i]||(t[i]={nodeId:i});let l=t[i];l.index===void 0?(o(l),d.lowlink=Math.min(d.lowlink,l.lowlink)):l.onStack&&(d.lowlink=Math.min(d.lowlink,l.index))}),d.lowlink===d.index){let i=[];for(;;){let l=r.pop();if(l.onStack=!1,i.push(l),l===d)break}a.push(i)}};return Object.keys(this.retained).forEach(d=>{this.retained[d]&&!t[d]&&(t[d]={nodeId:d},o(t[d]))}),a}_toposort(n){let t=0,r={},a=[],o=[],d=i=>{if(i.index=t,i.lowlink=t,t=t+1,a.push(i),i.onStack=!0,this.getDependenciesInner(i.nodeId).forEach(l=>{r[l]||(r[l]={nodeId:l,reachesRetained:!!this.retained[l]});let c=r[l];c.index===void 0?(d(c),i.lowlink=Math.min(i.lowlink,c.lowlink)):c.onStack&&(i.lowlink=Math.min(i.lowlink,c.index)),c.reachesRetained&&(i.reachesRetained=!0)}),i.lowlink===i.index){let l=[];for(;;){let c=a.pop();if(c.onStack=!1,l.push(c),c===i)break}o.push(l)}};return n.forEach(i=>{r[i]||(r[i]={nodeId:i,reachesRetained:!!this.retained[i]},d(r[i]))}),o.reverse()}process(n){Object.keys(this.dirtyNodes).forEach(o=>{this.dirtyNodes[o]&&n(this.nodesSet[o],"invalidate")});let t=!1;do t=!1,this._toposortRetained().forEach(o=>{let d=o.length>1,i=new Set(o.map(l=>l.nodeId));i.forEach(l=>{!!this.knownCycles[l]!==d&&(n(this.nodesSet[l],"invalidate"),this.dirtyNodes[l]=!0,this.knownCycles[l]=d)}),i.forEach(l=>{this.dirtyNodes[l]&&(n(this.nodesSet[l],d?"cycle":"recalculate")&&this.getDependenciesInner(l,N.EDGE_HARD).forEach(u=>{i.has(u)||(this.dirtyNodes[u]=!0,n(this.nodesSet[u],"invalidate"))}),t=!0,delete this.dirtyNodes[l])})});while(t);let r={},a=o=>{r[o]||(r[o]=!0,n(this.nodesSet[o],"invalidate"),this.getDependenciesInner(o,N.EDGE_HARD).forEach(d=>{a(d)}))};Object.keys(this.dirtyNodes).forEach(o=>{this.dirtyNodes[o]&&(a(o),delete this.dirtyNodes[o])})}graphviz(n){let t=["digraph debug {",'node [style="filled", fillcolor="#DDDDDD"];'],r=Object.keys(this.nodesSet).filter(i=>!!this.nodesSet[i]),a={};r.forEach(i=>{a[i]=n(i,this.nodesSet[i])});let o=ln(r,i=>[a[i].subgraph,i]),d=0;return o.forEach((i,l)=>{l&&t.push(`subgraph cluster_${d++} {`,'style="filled";','color="#AAAAAA";'),i.forEach(c=>{let u={shape:this.retained[c]?"box":"ellipse",label:a[c].label,penwidth:a[c].penwidth,fillcolor:this.dirtyNodes[c]?"#FFDDDD":"#DDDDDD"};t.push(`  item_${c} [${Object.entries(u).map(([E,h])=>`${E}=${JSON.stringify(h)}`).join(",")}];`)}),l&&t.push("}")}),r.forEach(i=>{Array.from(new Set(Object.keys(this.graph[i]))).forEach(c=>{this.graph[i][c]&N.EDGE_HARD&&t.push(`  item_${i} -> item_${c} [style="solid"];`),this.graph[i][c]&N.EDGE_SOFT&&t.push(`  item_${i} -> item_${c} [style="dashed"];`)})}),t.push("}"),t.join(`
`)}},L=N;H(L,"EDGE_NONE",0),H(L,"EDGE_SOFT",1),H(L,"EDGE_HARD",2),H(L,"EDGE_ANY",3);var _=new WeakMap;function cn(){_=new WeakMap}function se(e){return""}function k(e,n){return e}var J=[],b=new L,ee={};function un(){J=[],b=new L,ee={},cn()}var G;function fn(e){let n=G;G=[];try{return e(),G}finally{G=n}}function mn(e,n,t){typeof n=="string"&&(t=n),typeof n!="function"&&(n=sn),typeof t!="string"&&(t=void 0);let r=En(e,n,!1);return t&&k(r,t),G&&G.push(r),r}function ne(e,n){let t=En(e,dn,!0);return n&&k(t,n),G&&G.push(t),t}function ce(e){J.push({calc:null,deps:[]});try{return e()}finally{J.pop()}}var pn=class extends Error{constructor(n,t){super(n);H(this,"originalError");this.originalError=t}},Fe=class extends Error{};function En(e,n,t){if(typeof e!="function")throw new v("calculation must be provided a function");let r,a=0,o,d=!1,i=Object.assign(l,{$__id:W(),[x]:"calculation",[Le]:t?"effect":"calculation",[Re]:u,[Je]:E,[we]:c,onError:h,dispose:m});b.addNode(i);function l(){switch(y(!d,"calculation already disposed"),t||Ce(i),a){case 0:{a=1,J.push({calc:i,deps:[]});let f=r;try{r={result:e()}}catch(S){let C=J.pop();y(C?.calc===i,"calculation stack inconsistency"),b.replaceIncoming(i,C.deps);let X=S instanceof Fe;if(a=X?3:4,o?r={result:o(X?"cycle":"error")}:r=void 0,r&&J.length===0)return f&&n(f.result,r.result)?f.result:r.result;throw X?S:new pn("Calculation error: calculation threw error while being called",S)}a=2;let g=J.pop();return y(g?.calc===i,"calculation stack inconsistency"),b.replaceIncoming(i,g.deps),f&&n(f.result,r.result)?f.result:r.result}case 1:if(a=4,o&&(r={result:o("cycle")},J.length===0))return r.result;throw new Fe("Cycle reached: calculation is part of a cycle");case 2:if(r)return r.result;throw new v("Calculation in cached state missing result value");case 3:if(r)return r.result;throw new Error("Cycle reached: calculation is part of a cycle");case 4:if(r)return r.result;throw new Error("Calculation in error state");default:V(a,"Unexpected calculation state")}}function c(){switch(y(!d,"calculation already disposed"),a){case 1:throw new v("Cannot invalidate a calculation while being tracked");case 0:return;case 3:b.removeIncoming(i),a=0;break;case 2:case 4:{a=0;break}default:V(a,"Unexpected calculation state")}}function u(){switch(y(!d,"calculation already disposed"),a){case 1:throw new v("Cannot mark calculation as being a cycle while it is being calculated");case 0:case 2:case 3:case 4:if(a=3,o){let f=!1,g=o("cycle");return r&&(f=n(r.result,g)),f||(r={result:g}),!f}else return r?(r=void 0,!0):!1;default:V(a,"Unexpected calculation state")}}function E(){switch(y(!d,"calculation already disposed"),a){case 1:throw new v("Cannot recalculate calculation while it is being calculated");case 0:case 4:case 2:{let f=r;try{l()}catch{}return f&&r&&n(f.result,r.result)?(r=f,!1):!0}case 3:throw new v("Cannot recalculate calculation in cycle state without flushing");default:V(a,"Unexpected calculation state")}}function h(f){return y(!d,"calculation already disposed"),o=f,i}function m(){y(!d,"calculation already disposed"),b.removeNode(i),r=void 0,o=void 0,d=!0}return i}function Ce(e){if(J.length===0)return;J[J.length-1].deps.push(e)}function Oe(e,n){b.addNode(e),b.addNode(n),b.addEdge(e,n,L.EDGE_HARD)}function F(e){b.addNode(e)}function te(e){b.removeNode(e)}function A(e,n){b.addEdge(e,n,L.EDGE_SOFT)}function gn(e,n){b.removeEdge(e,n,L.EDGE_HARD)}function D(e,n){b.removeEdge(e,n,L.EDGE_SOFT)}function j(e){b.addNode(e),b.markNodeDirty(e),Tn()}var U=!1,We=Promise.resolve(),_e=ke,Me=()=>setTimeout(()=>Ge(),0);function ve(){return U?We:Promise.resolve()}function hn(e=ke){Me=e,U&&Me()}function Tn(){U||(U=!0,$n())}function $n(){try{We=new Promise(e=>{_e=e}),Me()}catch(e){de(e,"uncaught exception in notify")}}var Bn=null;function Ge(){!U||(U=!1,b.process((e,n)=>{let t=!0;switch(n){case"cycle":if(P(e))t=e[Re]();else throw new Error("Unexpected dependency on cycle");break;case"invalidate":P(e)&&e[we]();break;case"recalculate":P(e)?t=e[Je]():(K(e)||oe(e)||le(e))&&(t=e[ae]());break;default:V(n)}return t}),b.hasDirtyNodes()&&Tn(),_e())}function ue(e){let n=ee[e.$__id]??0,t=n+1;n===0&&(b.hasNode(e)||b.addNode(e),b.retain(e)),ee[e.$__id]=t}function fe(e){let n=ee[e.$__id]??0,t=Math.min(n-1,0);n<1&&R(`release called on unretained item ${se(e)}`,e),t<1&&b.release(e),ee[e.$__id]=t}function yn(e){return b.graphviz((n,t)=>{let r;return oe(t)&&(r=t),K(t)&&(r=t),be(t)&&(r=t.model),le(t)&&(r=t.item),{label:`${n}
${se(t)}`,subgraph:r,penwidth:e===t?"5.0":"1.0"}})}function Sn(){return{globalDependencyGraph:b,activeCalculations:J,refcountMap:ee,needsFlush:U,flushPromise:We,resolveFlushPromise:_e,subscribeListener:Me}}function bn(e){Bn=e}var Vr=Symbol("NoChildren"),Ar=Symbol("unused");function vn(e){if(!!e)return""}function Kn(e){if(e!==void 0)return typeof e=="number"?e:parseInt(e)}function Un(e){if(e!==void 0)return e!=="no"}var s={accesskey:{idlName:"accessKey"},"aria-atomic":{idlName:"ariaAtomic"},"aria-autocomplete":{idlName:"ariaAutoComplete"},"aria-busy":{idlName:"ariaBusy"},"aria-checked":{idlName:"ariaChecked"},"aria-colcount":{idlName:"ariaColCount"},"aria-colindex":{idlName:"ariaColIndex"},"aria-colindextext":{idlName:"ariaColIndexText"},"aria-colspan":{idlName:"ariaColSpan"},"aria-current":{idlName:"ariaCurrent"},"aria-disabled":{idlName:"ariaDisabled"},"aria-expanded":{idlName:"ariaExpanded"},"aria-haspopup":{idlName:"ariaHasPopup"},"aria-hidden":{idlName:"ariaHidden"},"aria-invalid":{idlName:"ariaInvalid"},"aria-keyshortcuts":{idlName:"ariaKeyShortcuts"},"aria-label":{idlName:"ariaLabel"},"aria-level":{idlName:"ariaLevel"},"aria-live":{idlName:"ariaLive"},"aria-modal":{idlName:"ariaModal"},"aria-multiline":{idlName:"ariaMultiLine"},"aria-multiselectable":{idlName:"ariaMultiSelectable"},"aria-orientation":{idlName:"ariaOrientation"},"aria-placeholder":{idlName:"ariaPlaceholder"},"aria-posinset":{idlName:"ariaPosInSet"},"aria-pressed":{idlName:"ariaPressed"},"aria-readonly":{idlName:"ariaReadOnly"},"aria-required":{idlName:"ariaRequired"},"aria-roledescription":{idlName:"ariaRoleDescription"},"aria-rowcount":{idlName:"ariaRowCount"},"aria-rowindex":{idlName:"ariaRowIndex"},"aria-rowindextext":{idlName:"ariaRowIndexText"},"aria-rowspan":{idlName:"ariaRowSpan"},"aria-selected":{idlName:"ariaSelected"},"aria-setsize":{idlName:"ariaSetSize"},"aria-sort":{idlName:"ariaSort"},"aria-valuemax":{idlName:"ariaValueMax"},"aria-valuemin":{idlName:"ariaValueMin"},"aria-valuenow":{idlName:"ariaValueNow"},"aria-valuetext":{idlName:"ariaValueText"},autocapitalize:{},autofocus:{},class:{idlName:"className"},contenteditable:{idlName:"contentEditable"},dir:{},draggable:{},enterkeyhint:{idlName:"enterKeyHint"},hidden:{},id:{},inputmode:{idlName:"inputMode"},is:{idlName:null},itemid:{idlName:null},itemprop:{idlName:null},itemref:{idlName:null},itemscope:{idlName:null},itemtype:{idlName:null},lang:{},nonce:{},role:{},slot:{},spellcheck:{},style:{},tabindex:{idlName:"tabIndex",makeIdlValue:Kn},title:{},translate:{makeIdlValue:Un}},jn={...s,href:{},target:{},download:{},ping:{},rel:{},hreflang:{},type:{},referrerpolicy:{idlName:"referrerPolicy"}},zn={...s,alt:{},coords:{},shape:{},href:{},target:{},download:{},ping:{},rel:{},referrerpolicy:{idlName:"referrerPolicy"}},qn={...s,src:{},crossorigin:{idlName:"crossOrigin"},preload:{},autoplay:{},loop:{makeIdlValue:vn},muted:{},controls:{}},Yn={...s},Qn={...s,href:{},target:{}},Zn={...s},et={...s,disabled:{},form:{idlName:null},formaction:{idlName:"formAction"},formenctype:{idlName:"formEnctype"},formmethod:{idlName:"formMethod"},formnovalidate:{idlName:"formNoValidate"},formtarget:{idlName:"formTarget"},name:{},type:{},value:{}},nt={...s,width:{},height:{}},tt={...s},rt={...s,value:{}},it={...s},at={...s,open:{}},ot={...s,open:{}},lt={...s},dt={...s,src:{},type:{},width:{},height:{}},st={...s,disabled:{},form:{idlName:null},name:{}},ct={...s,"accept-charset":{idlName:"acceptCharset"},action:{},autocomplete:{},enctype:{},method:{},name:{},novalidate:{idlName:"noValidate"},target:{},rel:{}},ut={...s},ft={...s},mt={...s},pt={...s},Et={...s,src:{},srcdoc:{},name:{},sandbox:{},allow:{},allowfullscreen:{idlName:"allowFullscreen"},width:{},height:{},referrerpolicy:{idlName:"referrerPolicy"},loading:{}},gt={...s,alt:{},src:{},srcset:{},sizes:{},crossorigin:{idlName:"crossOrigin"},usemap:{idlName:"useMap"},ismap:{idlName:"isMap"},width:{},height:{},referrerpolicy:{idlName:"referrerPolicy"},decoding:{},loading:{}},ht={...s,accept:{},alt:{},autocomplete:{},checked:{},dirname:{idlName:"dirName"},disabled:{},form:{},formaction:{idlName:"formAction"},formenctype:{idlName:"formEnctype"},formmethod:{idlName:"formMethod"},formnovalidate:{idlName:"formNoValidate"},formtarget:{idlName:"formTarget"},height:{},indeterminate:{makeAttrValue:null},list:{},max:{},maxlength:{},min:{},minlength:{idlName:"minLength"},multiple:{},name:{},pattern:{},placeholder:{},readonly:{idlName:"readOnly"},required:{},size:{},src:{},step:{},type:{},value:{},width:{}},Mn={...s,cite:{},datetime:{idlName:"dateTime"}},Tt={...s,for:{idlName:"htmlFor"}},yt={...s},St={...s,value:{}},bt={...s,href:{},crossorigin:{idlName:"crossOrigin"},rel:{},media:{},integrity:{},hreflang:{},type:{},referrerpolicy:{idlName:"referrerPolicy"},sizes:{},imagesrcset:{idlName:"imageSrcset"},imagesizes:{idlName:"imageSizes"},as:{},color:{idlName:null},disabled:{}},Mt={...s,name:{}},Ct={...s},vt={...s,name:{},"http-equiv":{idlName:"httpEquiv"},content:{},charset:{idlName:null},media:{}},xt={...s,value:{},min:{},max:{},low:{},high:{},optimum:{}},It={...s,data:{},type:{},name:{},form:{idlName:null},width:{},height:{}},Ht={...s,reversed:{},start:{},type:{}},Nt={...s,disabled:{},label:{}},Xt={...s,disabled:{},label:{},selected:{},value:{}},Lt={...s,for:{idlName:"htmlFor"},form:{idlName:null},name:{}},Jt={...s},wt={...s,name:{},value:{}},Rt={...s},Vt={...s},At={...s,value:{},max:{}},Dt={...s,cite:{}},Pt={...s,src:{},type:{},nomodule:{idlName:"noModule"},async:{},defer:{},crossorigin:{idlName:"crossOrigin"},integrity:{},referrerpolicy:{idlName:"referrerPolicy"}},kt={...s,autocomplete:{},disabled:{},form:{idlName:null},multiple:{},name:{},required:{},size:{},value:{makeAttrValue:null}},Ft={...s,name:{}},Ot={...s,type:{},src:{},srcset:{},sizes:{},media:{},width:{},height:{}},Wt={...s},_t={...s,media:{}},Gt={...s},$t={...s},$e={...s},Bt={...s,colspan:{idlName:"colSpan"},rowspan:{idlName:"rowSpan"},headers:{}},Cn={...s,span:{}},Kt={...s},Ut={...s,autocomplete:{},cols:{},dirname:{idlName:"dirName"},disabled:{},form:{idlName:null},maxlength:{idlName:"maxLength"},minlength:{idlName:"minLength"},name:{},placeholder:{},readonly:{idlName:"readOnly"},required:{},rows:{},wrap:{}},jt={...s,datetime:{idlName:"dateTime"}},zt={...s},qt={...s},Yt={...s,kind:{},src:{},srclang:{},label:{},default:{}},Qt={...s},Zt={...s,src:{},crossorigin:{idlName:"crossOrigin"},preload:{},autoplay:{},loop:{makeIdlValue:vn},muted:{},controls:{},poster:{},playsinline:{idlName:"playsInline"},width:{},height:{}},er={a:jn,abbr:s,address:s,area:zn,article:s,aside:s,audio:qn,b:s,base:Qn,bdi:s,bdo:s,blockquote:s,body:Zn,br:Yn,button:et,canvas:nt,caption:$t,cite:s,code:s,col:Cn,colgroup:Cn,data:rt,datalist:it,dd:s,del:Mn,details:at,dfn:s,dialog:ot,div:lt,dl:tt,dt:s,em:s,embed:dt,fieldset:st,figcaption:s,figure:s,footer:s,form:ct,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,head:ft,header:s,heading:ut,hgroup:s,hr:mt,html:pt,i:s,iframe:Et,image:gt,img:s,input:ht,ins:Mn,kbd:s,label:Tt,legend:yt,li:St,link:bt,main:s,map:Mt,mark:s,menu:Ct,meta:vt,meter:xt,nav:s,noscript:s,object:It,ol:Ht,optgroup:Nt,option:Xt,output:Lt,p:Jt,param:wt,picture:Rt,pre:Vt,progress:At,quote:Dt,rp:s,rt:s,ruby:s,s,samp:s,script:Pt,section:s,select:kt,slot:Ft,small:s,source:Ot,span:Wt,strong:s,style:_t,sub:s,summary:s,sup:s,table:Gt,tbody:$e,td:Bt,template:Kt,textarea:Ut,tfoot:$e,th:s,thead:$e,time:jt,title:zt,tr:qt,track:Yt,u:s,ul:Qt,var:s,video:Zt,wbr:s};function xn(e,n){return er[e]?.[n]}function nr(e){let n=[];function t(r){r.domNode?n.push(r.domNode):r.children?.forEach(a=>t(a))}return t(e),n}function tr(e,n,t){let r=0;function a(d){return d.domNode?(r+=1,!1):o(d)}function o(d){if(d.children){let i=d===n?t:d.children.length;for(let l=0;l<i;++l)if(a(d.children[l]))return!0}return d===n}return o(e),r}function xe(e){e.children?.forEach(n=>xe(n)),e.onMount&&e.onMount.forEach(n=>{try{n()}catch(t){de(t,"VNode node raised exception in onMount",e)}})}function In(e,n,t){n&&e.domNode&&n.push(e.domNode),e.children?.forEach(r=>{In(r,e.domNode?void 0:n,t)}),t&&e.onUnmount&&e.onUnmount.forEach(r=>{try{r()}catch(a){de(a,"VNode node raised exception in onUnmount",e)}})}function $(e,n,t,r,{runOnMount:a=!0,runOnUnmount:o=!0}={}){y(e.children,"attempted to splice a parent node with no children");let d=e.domNode?e:e.domParent;n>e.children.length&&(n=e.children.length),y(d&&d.domNode,"tried to replace a root tree slot with missing domParent");let i=d.domNode,l=e.children.splice(n,t,...r),c=[];if(l.forEach(u=>{In(u,c,o)}),i.childNodes.length===c.length?i.replaceChildren():c.forEach(u=>i.removeChild(u)),r.length>0){let u=tr(d,e,n),E=i.childNodes[u],h=document.createDocumentFragment();for(let m=0;m<r.length;++m){let f=r[m];f.domParent=d,nr(f).forEach(S=>{h.appendChild(S)})}i.insertBefore(h,E||null),a&&r.forEach(m=>{m&&xe(m)})}return l}var Ue=({children:e})=>e;function je(e,n,...t){return typeof e=="string"?{type:"intrinsic",element:e,props:n,children:t}:nn(e)?{type:"context",context:e,props:n,children:t}:{type:"component",component:e,props:n,children:t}}je.Fragment=Ue;function Hn(e,n,t,r,a){if(t.startsWith("on:")&&typeof r=="function"){let o=t.slice(3);a[t]&&n.removeEventListener(o,a[t]),n.addEventListener(o,r),a[t]=r}else{let o=ar[t]||null,d=xn(e,t);if(d){if(d.makeAttrValue!==null){let i=d.makeAttrValue?d.makeAttrValue(r):r;i==null||i===!1?n.removeAttribute(t):i===!0?n.setAttributeNS(o,t,""):n.setAttributeNS(o,t,i)}d.idlName!==null&&(n[d.idlName??t]=d.makeIdlValue?d.makeIdlValue(r):r)}else r===!1||r===void 0||r===null?n.removeAttributeNS(o,t):r===!0?n.setAttributeNS(o,t,""):(typeof r=="string"||typeof r=="number")&&n.setAttributeNS(o,t,r.toString())}}function rr(e){return K(e)}function B(e,n,t,r,a){if(e==null||e===!1||e===!0)return{domParent:n};if(typeof e=="string"){let o=document.createTextNode(e);return a.appendChild(o),{domNode:o,domParent:n}}if(typeof e=="number"){let o=document.createTextNode(e.toString());return a.appendChild(o),{domNode:o,domParent:n}}return P(e)?cr(e,n,t,r,a):rr(e)?ur(e,n,t,r,a):Array.isArray(e)?{domParent:n,children:e.map(o=>B(o,n,t,r,a))}:typeof e=="function"?(Pe("Attempted to render JSX node that was a function, not rendering anything"),{domParent:n}):typeof e=="symbol"?(Pe("Attempted to render JSX node that was a symbol, not rendering anything"),{domParent:n}):ir(e,n,t,r,a)}function ir(e,n,t,r,a){switch(e.type){case"intrinsic":return lr(e.element,e.props,e.children,n,t,r,a);case"context":return dr(e.context,e.props.value,e.children,n,t,r,a);case"component":return sr(e.component,e.props,e.children,n,t,r,a);default:V(e)}}var Be="http://www.w3.org/1999/xhtml",me="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1998/Math/MathML",z="http://www.w3.org/1999/xlink",Nn="http://www.w3.org/XML/1998/namespace",Xn="http://www.w3.org/2000/xmlns/",ar={"xlink:actuate":z,"xlink:arcrole":z,"xlink:href":z,"xlink:role":z,"xlink:show":z,"xlink:title":z,"xlink:type":z,"xml:lang":Nn,"xml:space":Nn,xmlns:Xn,"xmlns:xlink":Xn},or={[Be]:{svg:{node:me,children:me},math:{node:Ke,children:Ke}},[me]:{foreignObject:{node:me,children:Be}}},pe=Se(Be);function lr(e,n,t,r,a,o,d){let i=o,l=o.has(pe)?o.get(pe):De(pe),c=null,u=or[l]?.[e];u&&(l=u.node,c=u.children),c!=null&&(i=new Map(o),i.set(pe,c));let E=document.createElementNS(l,e),h={},m=[],f;n&&Object.entries(n).forEach(([S,C])=>{if(S==="ref"){if(Ze(C)){C.current=E;return}if(typeof C=="function"&&!P(C)){f=C;return}}if(P(C)){let X=ne(()=>{let Ne=C();Hn(e,E,S,Ne,h)},`viewattr:${S}`);m.push(()=>{D(X,a),X.dispose()}),A(X,a),X()}else Hn(e,E,S,C,h)});let g={domParent:r,domNode:E,onMount:[()=>{f&&f(E)}],onUnmount:[()=>{m.forEach(S=>S()),f&&f(void 0)}]};if(t&&t.length>0){let S=document.createDocumentFragment(),C=t.map(X=>B(X,g,a,i,S));g.children=C,E.appendChild(S)}return d.appendChild(E),g}function dr(e,n,t,r,a,o,d){let i=new Map(o);i.set(e,n);let l={domParent:r};return t&&(l.children=t.map(c=>B(c,r,a,i,d))),l}function sr(e,n,t,r,a,o,d){let i=[],l=[],c,u=fn(()=>{c=e({...n,children:t},{onUnmount:m=>{i.push(m)},onMount:m=>{l.push(m)},onEffect:(m,f)=>{let g=ne(m,`componenteffect:${e.name}:${f??"?"}`);l.push(()=>{ue(g),A(a,g),g()}),i.push(()=>{D(a,g),fe(g),g.dispose()})},getContext:m=>o.has(m)?o.get(m):De(m)})});i.push(()=>{u.forEach(m=>{m.dispose()})});let E=B(c,r,a,o,d);return{domParent:r,children:[E],onMount:l,onUnmount:i}}function cr(e,n,t,r,a){let o=[],d=[],i={domParent:n,children:d,onUnmount:o},l=ze("viewcalc:order");F(l);let c=!0,u=ne(()=>{let E=e(),h=B(E,n,l,r,a);c?(c=!1,d.push(h)):$(i,0,d.length,[h])},`viewcalc:${se(e)??"node"}`);return A(l,t),A(u,l),o.push(()=>{D(l,t),D(u,l),u.dispose(),te(l)}),u(),i}function ur(e,n,t,r,a){let o=[],i={domParent:n,children:[],onUnmount:o},l=ze("viewcoll:order");F(l),A(l,t),o.push(()=>{D(l,t)}),ce(()=>{i.children.push(...e.map(E=>B(E,n,l,r,a)))});let c=e[he](E=>{E.forEach(h=>{if(h.type==="splice")ce(()=>{let{count:m,index:f,items:g}=h,S=g.map(C=>B(C,n,l,r,a));$(i,f,m,S)});else if(h.type==="move"){let{fromIndex:m,fromCount:f,toIndex:g}=h,S=$(i,m,f,[],{runOnUnmount:!1});$(i,m<g?g-f:g,0,S,{runOnMount:!1})}else if(h.type==="sort"){let{indexes:m}=h,f=$(i,0,m.length,[],{runOnUnmount:!1}),g=m.map(S=>f[S]);$(i,0,0,g,{runOnMount:!1})}else V(h,"unhandled collection event")})}),u=e[Te]();return F(u),A(u,l),o.push(c),o.push(()=>{D(u,l)}),i}function ze(e){let n={$__id:W(),[x]:"nodeOrdering"};return e&&k(n,e),n}function Ln(e,n){let t=new Map;(e.namespaceURI===me||e.namespaceURI===Ke)&&t.set(pe,e.namespaceURI);let r=ze("mount");ue(r);let a={domNode:e},o=document.createDocumentFragment(),d=B(n,a,r,t,o);return a.children=[d],e.appendChild(o),xe(a),()=>{$(a,0,a.children?.length??0,[]),fe(r)}}function Jn(e,n){if(e===void 0&&n===void 0)return 0;if(e===void 0)return 1;if(n===void 0)return-1;let t=""+e,r=""+n;return t<r?-1:t>r?1:0}function Ee(e,n){if(!Array.isArray(e))throw new v("collection must be provided an array");return Ie(e,"collection",{get(t,r,a){return r[a]},has(t,r,a){return a in r},set(t,r,a,o){if(a==="length"&&typeof o=="number"&&o<r.length)return this.splice(o,r.length-o),!0;let d=Number(a);return!isNaN(d)&&d<=e.length?this.splice(d,1,o):r[a]=o,!0},deleteProperty(t,r,a){return delete r[a],!0}},({notify:t,subscriptionNode:r,makeView:a,processFieldChange:o,processFieldDelete:d})=>({splice:function(l,c,...u){if(c<1&&u.length===0)return[];let E=e.length,h=e.splice(l,c,...u),m=e.length;if(t({type:"splice",index:l,count:c,items:u,removed:h}),E===m)for(let f=l;f<l+c;++f)o(f.toString());else{for(let f=l;f<Math.max(m,E);++f){let g=f.toString();f>=m?d(g):o(g)}o("length")}return h},pop:function(){return this.splice(e.length-1,1)[0]},shift:function(){return this.splice(0,1)[0]},push:function(...l){return this.splice(e.length,0,...l),e.length},unshift:function(...l){return this.splice(0,0,...l),e.length},reject:function(l){let c=[];for(let u=e.length-1;u>=0;--u)l(this[u],u)&&c.push(...this.splice(u,1));return c},moveSlice:function(l,c,u){if(c<=0||u>=l&&u<l+c)return;let E=e.splice(l,c);u<l?e.splice(u,0,...E):e.splice(u-c,0,...E),t({type:"move",fromIndex:l,fromCount:c,toIndex:u,moved:E})},sort:function(l=Jn){let c=e.map((u,E)=>[u,E]);return e.sort(l),c.sort((u,E)=>l(u[0],E[0])),t({type:"sort",indexes:c.map(u=>u[1])}),this},reverse:function(l=Jn){if(e.length===0)return this;e.reverse();let c=[];for(let u=e.length-1;u>=0;--u)c.push(u);return t({type:"sort",indexes:c}),this},makeView:a,mapView:function(l,c){return fr(this,l,c)},filterView:function(l,c){return mr(this,l,c)},flatMapView:function(l,c){return qe(this,l,c)}}),n)}Ee.dispose=function(n){n[Y]()};function fr(e,n,t){return qe(e,r=>[n(r)],t)}function mr(e,n,t){return qe(e,r=>n(r)?[r]:[],t)}function qe(e,n,t){let r=[];return e.makeView({initialize:a=>{let o=[];return a.forEach(d=>{let i=n(d);o.push(...i),r.push(i.length)}),o},processEvent:(a,o,d)=>{if(o.type==="splice"){let{index:i,count:l,items:c}=o,u=0;for(let f=0;f<i;++f)u+=r[f];let E=0;for(let f=i;f<i+l;++f)E+=r[f];let h=[],m=[];c.forEach(f=>{let g=n(f);h.push(...g),m.push(g.length)}),a.splice(u,E,...h),r.splice(i,l,...m)}else if(o.type==="move"){let{fromIndex:i,fromCount:l,toIndex:c}=o,u=0;for(let E=i;E<i+l;++E)u+=r[E];if(u>0){let E=0,h=0,m=Math.max(i,c),f=0;for(let g=0;g<=m;++g)g===i&&(E=f),g===c&&(h=f),f+=r[g];a.moveSlice(E,u,h)}r.splice(c,0,...r.splice(i,l))}else if(o.type==="sort"){let{indexes:i}=o,l=[],c=0;for(let m=0;m<r.length;++m)l.push(c),c+=r[m];let u=d.slice(),E=[],h=0;i.forEach(m=>{let f=r[m];if(f===0)return;let g=l[m];for(let S=0;S<f;++S)E.push(g+S),d[h]=u[g+S],h+=1}),a[ye]({type:"sort",indexes:E})}else V(o,"unhandled collection event type")}},t)}function Ie(e,n,t,r,a){let o=new Map,d=new Map,i=[],l=!1,c=[],u={$__id:W(),[x]:"subscription",[ae]:E,item:null};k(u,`${a||"?"}:sub`);function E(){y(!l,"data already disposed");let T=!1,p=d;return d=new Map,p.forEach((M,w)=>{T=!0,w(M)}),T}function h(){y(!l,"data already disposed");let T=c,p=!1;return c=[],T.forEach(M=>{p=!0,M()}),p}function m(T){y(!l,"data already disposed"),c.push(T),j(I)}function f(T){y(!l,"data already disposed"),i.length>0&&(i.forEach(p=>{let M=d.get(p);M||(M=[],d.set(p,M)),M.push(T)}),j(u))}function g(){return y(!l,"data already disposed"),u}function S(T){return y(!l,"data already disposed"),i.length===0&&(F(I),F(u),Oe(I,u),o.forEach(p=>{A(p,u)})),i.push(T),()=>{i=i.filter(p=>p!==T),i.length===0&&(gn(I,u),o.forEach(p=>{D(p,u)}))}}function C(T,p){y(!l,"data already disposed");let M=ce(()=>T.initialize(e)),w=Ee(M,p);return S(Xe=>{w[Ae](()=>{Xe.forEach(Rn=>{T.processEvent(w,Rn,M)})})}),Oe(u,w),w}function X(T){y(!l,"data already disposed");let p=q(T);j(p)}function Ne(T){y(!l,"data already disposed");let p=q(T);j(p)}function wn(){y(!l,"data already disposed"),o.forEach(T=>{D(I,T),i.length>0&&D(T,u),te(T)}),o.clear(),te(I),te(u),i.splice(0,i.length),d.clear(),c.splice(0,c.length),ve().then(()=>{Ye.revoke()}),l=!0}let re={$__id:W(),[x]:"data",[ie]:n,[ae]:h,[Ae]:m,[he]:S,[ye]:f,[Te]:g,[Y]:wn,...r({observe:S,notify:f,makeView:C,subscriptionNode:u,processFieldChange:X,processFieldDelete:Ne})};function q(T){let p=o.get(T);return p||(p={model:I,key:T,$__id:W()},a&&k(p,a),o.set(T,p),F(p),A(I,p),i.length>0&&A(p,u)),p}let Ye=Proxy.revocable(e,{get(T,p){if(p in re)return re[p];let M=q(p);return Ce(M),t.get.call(I,f,T,p)},has(T,p){if(p in re)return!0;let M=q(p);return Ce(M),t.has.call(I,f,T,p)},set(T,p,M){if(p in re)return R(`Overriding ${String(p)} not supported`,p),!1;let w=t.set.call(I,f,T,p,M);if(w){let Xe=q(p);j(Xe)}return w},deleteProperty(T,p){if(p in re)return R(`Deleting ${String(p)} not supported`,p),!1;let M=t.deleteProperty.call(I,f,T,p);if(M){let w=q(p);j(w)}return M}}),I=Ye.proxy;return u.item=I,a&&k(I,a),F(I),I}function He(e,n){if(typeof e!="object"||!e)throw new v("model must be provided an object");let t=new Set(Object.keys(e));return Ie(e,"model",{get:(r,a,o)=>a[o],has:(r,a,o)=>t.has(o),set:(r,a,o,d)=>{let i=!t.has(o)||a[o]!==d;return a[o]=d,i&&(t.has(o)||(t.add(o),r({type:"add",key:o})),r({type:"set",key:o,value:d})),!0},deleteProperty:(r,a,o)=>{let d=t.has(o);return delete a[o],d&&(t.delete(o),r({type:"delete",key:o})),!0}},({makeView:r,notify:a,observe:o,subscriptionNode:d})=>({[Ve]:r}),n)}He.keys=function(n,t){let r=new Set;return n[Ve]({initialize:o=>{let d=Object.keys(o);return d.forEach(i=>r.add(i)),d},processEvent:(o,d)=>{if(d.type==="add"){let{key:i}=d;if(typeof i=="number"||typeof i=="string"){let l=i.toString();r.has(l)||(r.add(l),o.push(l))}}else if(d.type==="delete"){let{key:i}=d;if(typeof i=="number"||typeof i=="string"){let l=i.toString();r.has(l)&&(r.delete(l),o.reject(c=>c===l))}}}},t)};He.dispose=function(n){n[Y]()};var pr=je,Er="0.6.2";return Wn(gr);})();
//# sourceMappingURL=index.min.js.map
