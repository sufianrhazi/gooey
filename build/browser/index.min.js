var Gooey=(()=>{var Ee=Object.defineProperty;var Hn=Object.getOwnPropertyDescriptor;var Rn=Object.getOwnPropertyNames;var Vn=Object.prototype.hasOwnProperty;var An=(e,n,t)=>n in e?Ee(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Dn=e=>Ee(e,"__esModule",{value:!0});var kn=(e,n)=>{for(var t in n)Ee(e,t,{get:n[t],enumerable:!0})},Pn=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of Rn(n))!Vn.call(e,a)&&(t||a!=="default")&&Ee(e,a,{get:()=>n[a],enumerable:!(i=Hn(n,a))||i.enumerable});return e};var Fn=(e=>(n,t)=>e&&e.get(n)||(t=Pn(Dn({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var x=(e,n,t)=>(An(e,typeof n!="symbol"?n+"":n,t),t);var pi={};kn(pi,{Fragment:()=>$e,InvariantError:()=>C,VERSION:()=>mi,calc:()=>un,collection:()=>ge,createContext:()=>Se,debug:()=>hn,debugState:()=>Tn,debugSubscribe:()=>yn,default:()=>fi,effect:()=>ne,flush:()=>We,getLogLevel:()=>nn,model:()=>Ne,mount:()=>Ln,nextFlush:()=>ve,ref:()=>qe,release:()=>fe,reset:()=>sn,retain:()=>ue,setLogLevel:()=>tn,subscribe:()=>gn});var C=class extends Error{constructor(n,t){super(n);x(this,"detail");this.detail=t}},I=Symbol("typeTag"),re=Symbol("dataTypeTag"),Xe=Symbol("calculationType"),Je=Symbol("calculationRecalculate"),we=Symbol("calculationInvalidate"),He=Symbol("calculationSetCycle"),he=Symbol("observe"),Te=Symbol("getSubscriptionNode"),Re=Symbol("makeModelView"),Y=Symbol("dispose"),oe=Symbol("flush"),Ve=Symbol("addDeferredWork"),ye=Symbol("notify");function ze(e){return e&&e[I]==="ref"}function qe(e){return{[I]:"ref",current:e}}function Se(e){return Object.assign(()=>e,{[I]:"context"})}function Ye(e){return!!(e&&e[I]==="context")}function ae(e){return!!(e&&e[I]==="data"&&e[re]==="model")}function Qe(e){return!!(e&&!e[I]&&!!e.model&&!!e.model[re])}function K(e){return!!(e&&e[I]==="data"&&e[re]==="collection")}function D(e){return!!(e&&e[I]==="calculation")}function Ze(e){return e[Xe]==="effect"}function le(e){return!!(e&&e[I]==="subscription")}function en(e){return!!(e&&e[I]==="nodeOrdering")}var W={error:0,warn:1,info:2,debug:3},Q=W.warn;function nn(){return Q>=W.info?"info":Q>=W.warn?"warn":Q>=W.debug?"debug":"error"}function tn(e){Wn(()=>e in W,e),Q=W[e]}function rn(...e){Q>=W.warn&&console.warn(...e)}function R(...e){Q>=W.error&&console.error(...e)}function de(e,...n){e instanceof Error?(R(e),R(...n)):R(e,...n)}function Wn(e,...n){e()||R("Invariant error",e.toString(),"is not truthy",...n)}function y(e,n){if(!e)throw R("Assertion failure",e===void 0?"undefined":e===null?"null":e.toString(),"is not truthy",n),new C(`Assertion failure: ${n}`)}function k(e,...n){throw R("Assertion failure",e,"is not exhausted",...n),new C("Assertion failure",{context:e,items:n})}var Ae=()=>{},O=(()=>{let e=0;return()=>(e++).toString()})();function on(e,n){let t=new Map;return e.forEach(i=>{let[a,o]=n(i),d=t.get(a);d||(d=[],t.set(a,d)),d.push(o)}),t}function an(){return!0}function ln(e,n){return e===n}var L=class{constructor(){x(this,"nextId");x(this,"nodesSet");x(this,"retained");x(this,"dirtyNodes");x(this,"knownCycles");x(this,"graph");x(this,"reverseGraph");this.nextId=1,this.nodesSet={},this.retained={},this.graph={},this.reverseGraph={},this.dirtyNodes={},this.knownCycles={}}getId(n){return n.$__id}addNode(n){let t=this.getId(n);return this.nodesSet[t]?!1:(this.graph[t]={},this.reverseGraph[t]={},this.nodesSet[t]=n,!0)}hasNode(n){return!!this.nodesSet[this.getId(n)]}markNodeDirty(n){this.dirtyNodes[this.getId(n)]=!0}getRecursiveDependenciesInner(n){let t={},i=[],a=!1,o=d=>{t[d]===2&&(a=!0),!t[d]&&(d!==n&&i.push(this.nodesSet[d]),t[d]=2,this.getDependenciesInner(d,L.EDGE_ANY).forEach(r=>{o(r)}),t[d]=1)};return o(n),{otherNodeIds:t,otherNodes:i,isCycle:a}}getRecursiveDependencies(n){let t=this.getId(n),{otherNodes:i,isCycle:a}=this.getRecursiveDependenciesInner(t);return y(!a,"getRecursiveDependencies found a cycle"),i}hasDirtyNodes(){return Object.keys(this.dirtyNodes).length>0}addEdge(n,t,i){let a=this.getId(n),o=this.getId(t);this.addEdgeInner(a,o,i)}addEdgeInner(n,t,i){y(!!this.nodesSet[n],"cannot add edge from node that does not exist"),y(!!this.nodesSet[t],"cannot add edge to node that does not exist"),this.graph[n][t]=(this.graph[n][t]||0)|i,this.reverseGraph[t][n]=(this.reverseGraph[t][n]||0)|i}removeEdge(n,t,i){let a=this.getId(n),o=this.getId(t);this.removeEdgeInner(a,o,i)}removeEdgeInner(n,t,i){y(!!this.nodesSet[n],"cannot remove edge from node that does not exist"),y(!!this.nodesSet[t],"cannot remove edge to node that does not exist"),this.graph[n][t]=(this.graph[n][t]||0)&~i,this.reverseGraph[t][n]=(this.reverseGraph[t][n]||0)&~i}removeNode(n){let t=this.getId(n);this.removeNodeInner(t)}removeNodeInner(n){y(!this.retained[n],"attempted to remove a retained node");let t=this.getDependenciesInner(n);this.getReverseDependenciesInner(n).forEach(a=>{this.graph[a][n]=0,this.reverseGraph[n][a]=0}),t.forEach(a=>{this.reverseGraph[a][n]=0,this.graph[n][a]=0}),delete this.nodesSet[n],delete this.dirtyNodes[n],delete this.retained[n],delete this.knownCycles[n]}retain(n){let t=this.getId(n);y(!this.retained[t],"double-retain"),this.retained[t]=!0}release(n){let t=this.getId(n);y(this.retained[t],"double-release"),delete this.retained[t]}replaceIncoming(n,t){let i=this.getId(n),a=this.getReverseDependenciesInner(i,L.EDGE_HARD),o=new Set(a),d=t.map(l=>this.getId(l)),r=new Set(d);a.forEach(l=>{r.has(l)||this.removeEdgeInner(l,i,L.EDGE_HARD)}),d.forEach(l=>{o.has(l)||this.addEdgeInner(l,i,L.EDGE_HARD)})}removeIncoming(n){let t=this.getId(n);this.getReverseDependenciesInner(t).forEach(a=>{this.removeEdgeInner(a,t,L.EDGE_HARD)})}getDependenciesInner(n,t=L.EDGE_ANY){return this.graph[n]?Object.keys(this.graph[n]).filter(i=>(this.graph[n][i]||0)&t):[]}getReverseDependenciesInner(n,t=L.EDGE_ANY){return this.reverseGraph[n]?Object.keys(this.reverseGraph[n]).filter(i=>(this.reverseGraph[n][i]||0)&t):[]}getDependencies(n,t=L.EDGE_ANY){let i=this.getId(n);return this.getDependenciesInner(i,t).map(a=>this.nodesSet[a])}_toposortRetained(){let n=0,t={},i=[],a=[],o=d=>{if(d.index=n,d.lowlink=n,n=n+1,i.push(d),d.onStack=!0,this.getReverseDependenciesInner(d.nodeId).forEach(r=>{t[r]||(t[r]={nodeId:r});let l=t[r];l.index===void 0?(o(l),d.lowlink=Math.min(d.lowlink,l.lowlink)):l.onStack&&(d.lowlink=Math.min(d.lowlink,l.index))}),d.lowlink===d.index){let r=[];for(;;){let l=i.pop();if(l.onStack=!1,r.push(l),l===d)break}a.push(r)}};return Object.keys(this.retained).forEach(d=>{this.retained[d]&&!t[d]&&(t[d]={nodeId:d},o(t[d]))}),a}_toposort(n){let t=0,i={},a=[],o=[],d=r=>{if(r.index=t,r.lowlink=t,t=t+1,a.push(r),r.onStack=!0,this.getDependenciesInner(r.nodeId).forEach(l=>{i[l]||(i[l]={nodeId:l,reachesRetained:!!this.retained[l]});let c=i[l];c.index===void 0?(d(c),r.lowlink=Math.min(r.lowlink,c.lowlink)):c.onStack&&(r.lowlink=Math.min(r.lowlink,c.index)),c.reachesRetained&&(r.reachesRetained=!0)}),r.lowlink===r.index){let l=[];for(;;){let c=a.pop();if(c.onStack=!1,l.push(c),c===r)break}o.push(l)}};return n.forEach(r=>{i[r]||(i[r]={nodeId:r,reachesRetained:!!this.retained[r]},d(i[r]))}),o.reverse()}process(n){Object.keys(this.dirtyNodes).forEach(o=>{this.dirtyNodes[o]&&n(this.nodesSet[o],"invalidate")});let t=!1;do t=!1,this._toposortRetained().forEach(o=>{let d=o.length>1,r=new Set(o.map(l=>l.nodeId));r.forEach(l=>{!!this.knownCycles[l]!==d&&(n(this.nodesSet[l],"invalidate"),this.dirtyNodes[l]=!0,this.knownCycles[l]=d)}),r.forEach(l=>{this.dirtyNodes[l]&&(n(this.nodesSet[l],d?"cycle":"recalculate")&&this.getDependenciesInner(l,L.EDGE_HARD).forEach(u=>{r.has(u)||(this.dirtyNodes[u]=!0,n(this.nodesSet[u],"invalidate"))}),t=!0,delete this.dirtyNodes[l])})});while(t);let i={},a=o=>{i[o]||(i[o]=!0,n(this.nodesSet[o],"invalidate"),this.getDependenciesInner(o,L.EDGE_HARD).forEach(d=>{a(d)}))};Object.keys(this.dirtyNodes).forEach(o=>{this.dirtyNodes[o]&&(a(o),delete this.dirtyNodes[o])})}graphviz(n){let t=["digraph debug {",'node [style="filled", fillcolor="#DDDDDD"];'],i=Object.keys(this.nodesSet).filter(r=>!!this.nodesSet[r]),a={};i.forEach(r=>{a[r]=n(r,this.nodesSet[r])});let o=on(i,r=>[a[r].subgraph,r]),d=0;return o.forEach((r,l)=>{l&&t.push(`subgraph cluster_${d++} {`,'style="filled";','color="#AAAAAA";'),r.forEach(c=>{let u={shape:this.retained[c]?"box":"ellipse",label:a[c].label,penwidth:a[c].penwidth,fillcolor:this.dirtyNodes[c]?"#FFDDDD":"#DDDDDD"};t.push(`  item_${c} [${Object.entries(u).map(([g,h])=>`${g}=${JSON.stringify(h)}`).join(",")}];`)}),l&&t.push("}")}),i.forEach(r=>{Array.from(new Set(Object.keys(this.graph[r]))).forEach(c=>{this.graph[r][c]&L.EDGE_HARD&&t.push(`  item_${r} -> item_${c} [style="solid"];`),this.graph[r][c]&L.EDGE_SOFT&&t.push(`  item_${r} -> item_${c} [style="dashed"];`)})}),t.push("}"),t.join(`
`)}},J=L;x(J,"EDGE_NONE",0),x(J,"EDGE_SOFT",1),x(J,"EDGE_HARD",2),x(J,"EDGE_ANY",3);var _=new WeakMap;function dn(){_=new WeakMap}function se(e){return""}function P(e,n){return e}var w=[],b=new J,ee={};function sn(){w=[],b=new J,ee={},dn()}var G;function cn(e){let n=G;G=[];try{return e(),G}finally{G=n}}function un(e,n,t){typeof n=="string"&&(t=n),typeof n!="function"&&(n=ln),typeof t!="string"&&(t=void 0);let i=mn(e,n,!1);return t&&P(i,t),G&&G.push(i),i}function ne(e,n){let t=mn(e,an,!0);return n&&P(t,n),G&&G.push(t),t}function ce(e){w.push({calc:null,deps:[]});try{return e()}finally{w.pop()}}var fn=class extends Error{constructor(n,t){super(n);x(this,"originalError");this.originalError=t}},De=class extends Error{};function mn(e,n,t){if(typeof e!="function")throw new C("calculation must be provided a function");let i,a=0,o,d=!1,r=Object.assign(l,{$__id:O(),[I]:"calculation",[Xe]:t?"effect":"calculation",[He]:u,[Je]:g,[we]:c,onError:h,dispose:m});b.addNode(r);function l(){switch(y(!d,"calculation already disposed"),t||Me(r),a){case 0:{a=1,w.push({calc:r,deps:[]});let f=i;try{i={result:e()}}catch(S){let v=w.pop();y(v?.calc===r,"calculation stack inconsistency"),b.replaceIncoming(r,v.deps);let X=S instanceof De;if(a=X?3:4,o?i={result:o(X?"cycle":"error")}:i=void 0,i&&w.length===0)return f&&n(f.result,i.result)?f.result:i.result;throw X?S:new fn("Calculation error: calculation threw error while being called",S)}a=2;let E=w.pop();return y(E?.calc===r,"calculation stack inconsistency"),b.replaceIncoming(r,E.deps),f&&n(f.result,i.result)?f.result:i.result}case 1:if(a=4,o&&(i={result:o("cycle")},w.length===0))return i.result;throw new De("Cycle reached: calculation is part of a cycle");case 2:if(i)return i.result;throw new C("Calculation in cached state missing result value");case 3:if(i)return i.result;throw new Error("Cycle reached: calculation is part of a cycle");case 4:if(i)return i.result;throw new Error("Calculation in error state");default:k(a,"Unexpected calculation state")}}function c(){switch(y(!d,"calculation already disposed"),a){case 1:throw new C("Cannot invalidate a calculation while being tracked");case 0:return;case 3:b.removeIncoming(r),a=0;break;case 2:case 4:{a=0;break}default:k(a,"Unexpected calculation state")}}function u(){switch(y(!d,"calculation already disposed"),a){case 1:throw new C("Cannot mark calculation as being a cycle while it is being calculated");case 0:case 2:case 3:case 4:if(a=3,o){let f=!1,E=o("cycle");return i&&(f=n(i.result,E)),f||(i={result:E}),!f}else return i?(i=void 0,!0):!1;default:k(a,"Unexpected calculation state")}}function g(){switch(y(!d,"calculation already disposed"),a){case 1:throw new C("Cannot recalculate calculation while it is being calculated");case 0:case 4:case 2:{let f=i;try{l()}catch{}return f&&i&&n(f.result,i.result)?(i=f,!1):!0}case 3:throw new C("Cannot recalculate calculation in cycle state without flushing");default:k(a,"Unexpected calculation state")}}function h(f){return y(!d,"calculation already disposed"),o=f,r}function m(){y(!d,"calculation already disposed"),b.removeNode(r),i=void 0,o=void 0,d=!0}return r}function Me(e){if(w.length===0)return;w[w.length-1].deps.push(e)}function ke(e,n){b.addNode(e),b.addNode(n),b.addEdge(e,n,J.EDGE_HARD)}function F(e){b.addNode(e)}function te(e){b.removeNode(e)}function V(e,n){b.addEdge(e,n,J.EDGE_SOFT)}function pn(e,n){b.removeEdge(e,n,J.EDGE_HARD)}function A(e,n){b.removeEdge(e,n,J.EDGE_SOFT)}function j(e){b.addNode(e),b.markNodeDirty(e),En()}var U=!1,Pe=Promise.resolve(),Fe=Ae,be=()=>setTimeout(()=>We(),0);function ve(){return U?Pe:Promise.resolve()}function gn(e=Ae){be=e,U&&be()}function En(){U||(U=!0,_n())}function _n(){try{Pe=new Promise(e=>{Fe=e}),be()}catch(e){de(e,"uncaught exception in notify")}}var Gn=null;function We(){!U||(U=!1,b.process((e,n)=>{let t=!0;switch(n){case"cycle":if(D(e))t=e[He]();else throw new Error("Unexpected dependency on cycle");break;case"invalidate":D(e)&&e[we]();break;case"recalculate":D(e)?t=e[Je]():(K(e)||ae(e)||le(e))&&(t=e[oe]());break;default:k(n)}return t}),b.hasDirtyNodes()&&En(),Fe())}function ue(e){let n=ee[e.$__id]??0,t=n+1;n===0&&(b.hasNode(e)||b.addNode(e),b.retain(e)),ee[e.$__id]=t}function fe(e){let n=ee[e.$__id]??0,t=Math.min(n-1,0);n<1&&R(`release called on unretained item ${se(e)}`,e),t<1&&b.release(e),ee[e.$__id]=t}function hn(e){return b.graphviz((n,t)=>{let i;return ae(t)&&(i=t),K(t)&&(i=t),Qe(t)&&(i=t.model),le(t)&&(i=t.item),{label:`${n}
${se(t)}`,subgraph:i,penwidth:e===t?"5.0":"1.0"}})}function Tn(){return{globalDependencyGraph:b,activeCalculations:w,refcountMap:ee,needsFlush:U,flushPromise:Pe,resolveFlushPromise:Fe,subscribeListener:be}}function yn(e){Gn=e}function Mn(e){if(!!e)return""}function $n(e){if(e!==void 0)return typeof e=="number"?e:parseInt(e)}function Bn(e){if(e!==void 0)return e!=="no"}var s={accesskey:{idlName:"accessKey"},"aria-atomic":{idlName:"ariaAtomic"},"aria-autocomplete":{idlName:"ariaAutoComplete"},"aria-busy":{idlName:"ariaBusy"},"aria-checked":{idlName:"ariaChecked"},"aria-colcount":{idlName:"ariaColCount"},"aria-colindex":{idlName:"ariaColIndex"},"aria-colindextext":{idlName:"ariaColIndexText"},"aria-colspan":{idlName:"ariaColSpan"},"aria-current":{idlName:"ariaCurrent"},"aria-disabled":{idlName:"ariaDisabled"},"aria-expanded":{idlName:"ariaExpanded"},"aria-haspopup":{idlName:"ariaHasPopup"},"aria-hidden":{idlName:"ariaHidden"},"aria-invalid":{idlName:"ariaInvalid"},"aria-keyshortcuts":{idlName:"ariaKeyShortcuts"},"aria-label":{idlName:"ariaLabel"},"aria-level":{idlName:"ariaLevel"},"aria-live":{idlName:"ariaLive"},"aria-modal":{idlName:"ariaModal"},"aria-multiline":{idlName:"ariaMultiLine"},"aria-multiselectable":{idlName:"ariaMultiSelectable"},"aria-orientation":{idlName:"ariaOrientation"},"aria-placeholder":{idlName:"ariaPlaceholder"},"aria-posinset":{idlName:"ariaPosInSet"},"aria-pressed":{idlName:"ariaPressed"},"aria-readonly":{idlName:"ariaReadOnly"},"aria-required":{idlName:"ariaRequired"},"aria-roledescription":{idlName:"ariaRoleDescription"},"aria-rowcount":{idlName:"ariaRowCount"},"aria-rowindex":{idlName:"ariaRowIndex"},"aria-rowindextext":{idlName:"ariaRowIndexText"},"aria-rowspan":{idlName:"ariaRowSpan"},"aria-selected":{idlName:"ariaSelected"},"aria-setsize":{idlName:"ariaSetSize"},"aria-sort":{idlName:"ariaSort"},"aria-valuemax":{idlName:"ariaValueMax"},"aria-valuemin":{idlName:"ariaValueMin"},"aria-valuenow":{idlName:"ariaValueNow"},"aria-valuetext":{idlName:"ariaValueText"},autocapitalize:{},autofocus:{},class:{idlName:"className"},contenteditable:{idlName:"contentEditable"},dir:{},draggable:{},enterkeyhint:{idlName:"enterKeyHint"},hidden:{},id:{},inputmode:{idlName:"inputMode"},is:{idlName:null},itemid:{idlName:null},itemprop:{idlName:null},itemref:{idlName:null},itemscope:{idlName:null},itemtype:{idlName:null},lang:{},nonce:{},role:{},slot:{},spellcheck:{},style:{},tabindex:{idlName:"tabIndex",makeIdlValue:$n},title:{},translate:{makeIdlValue:Bn}},Kn={...s,href:{},target:{},download:{},ping:{},rel:{},hreflang:{},type:{},referrerpolicy:{idlName:"referrerPolicy"}},Un={...s,alt:{},coords:{},shape:{},href:{},target:{},download:{},ping:{},rel:{},referrerpolicy:{idlName:"referrerPolicy"}},jn={...s,src:{},crossorigin:{idlName:"crossOrigin"},preload:{},autoplay:{},loop:{makeIdlValue:Mn},muted:{},controls:{}},zn={...s},qn={...s,href:{},target:{}},Yn={...s},Qn={...s,disabled:{},form:{idlName:null},formaction:{idlName:"formAction"},formenctype:{idlName:"formEnctype"},formmethod:{idlName:"formMethod"},formnovalidate:{idlName:"formNoValidate"},formtarget:{idlName:"formTarget"},name:{},type:{},value:{}},Zn={...s,width:{},height:{}},et={...s},nt={...s,value:{}},tt={...s},it={...s,open:{}},rt={...s,open:{}},ot={...s},at={...s,src:{},type:{},width:{},height:{}},lt={...s,disabled:{},form:{idlName:null},name:{}},dt={...s,"accept-charset":{idlName:"acceptCharset"},action:{},autocomplete:{},enctype:{},method:{},name:{},novalidate:{idlName:"noValidate"},target:{},rel:{}},st={...s},ct={...s},ut={...s},ft={...s},mt={...s,src:{},srcdoc:{},name:{},sandbox:{},allow:{},allowfullscreen:{idlName:"allowFullscreen"},width:{},height:{},referrerpolicy:{idlName:"referrerPolicy"},loading:{}},pt={...s,alt:{},src:{},srcset:{},sizes:{},crossorigin:{idlName:"crossOrigin"},usemap:{idlName:"useMap"},ismap:{idlName:"isMap"},width:{},height:{},referrerpolicy:{idlName:"referrerPolicy"},decoding:{},loading:{}},gt={...s,accept:{},alt:{},autocomplete:{},checked:{},dirname:{idlName:"dirName"},disabled:{},form:{},formaction:{idlName:"formAction"},formenctype:{idlName:"formEnctype"},formmethod:{idlName:"formMethod"},formnovalidate:{idlName:"formNoValidate"},formtarget:{idlName:"formTarget"},height:{},indeterminate:{makeAttrValue:null},list:{},max:{},maxlength:{},min:{},minlength:{idlName:"minLength"},multiple:{},name:{},pattern:{},placeholder:{},readonly:{idlName:"readOnly"},required:{},size:{},src:{},step:{},type:{},value:{},width:{}},Sn={...s,cite:{},datetime:{idlName:"dateTime"}},Et={...s,for:{idlName:"htmlFor"}},ht={...s},Tt={...s,value:{}},yt={...s,href:{},crossorigin:{idlName:"crossOrigin"},rel:{},media:{},integrity:{},hreflang:{},type:{},referrerpolicy:{idlName:"referrerPolicy"},sizes:{},imagesrcset:{idlName:"imageSrcset"},imagesizes:{idlName:"imageSizes"},as:{},color:{idlName:null},disabled:{}},St={...s,name:{}},bt={...s},Mt={...s,name:{},"http-equiv":{idlName:"httpEquiv"},content:{},charset:{idlName:null},media:{}},vt={...s,value:{},min:{},max:{},low:{},high:{},optimum:{}},Ct={...s,data:{},type:{},name:{},form:{idlName:null},width:{},height:{}},It={...s,reversed:{},start:{},type:{}},Nt={...s,disabled:{},label:{}},xt={...s,disabled:{},label:{},selected:{},value:{}},Lt={...s,for:{idlName:"htmlFor"},form:{idlName:null},name:{}},Xt={...s},Jt={...s,name:{},value:{}},wt={...s},Ht={...s},Rt={...s,value:{},max:{}},Vt={...s,cite:{}},At={...s,src:{},type:{},nomodule:{idlName:"noModule"},async:{},defer:{},crossorigin:{idlName:"crossOrigin"},integrity:{},referrerpolicy:{idlName:"referrerPolicy"}},Dt={...s,autocomplete:{},disabled:{},form:{idlName:null},multiple:{},name:{},required:{},size:{},value:{makeAttrValue:null}},kt={...s,name:{}},Pt={...s,type:{},src:{},srcset:{},sizes:{},media:{},width:{},height:{}},Ft={...s},Wt={...s,media:{}},Ot={...s},_t={...s},Oe={...s},Gt={...s,colspan:{idlName:"colSpan"},rowspan:{idlName:"rowSpan"},headers:{}},bn={...s,span:{}},$t={...s},Bt={...s,autocomplete:{},cols:{},dirname:{idlName:"dirName"},disabled:{},form:{idlName:null},maxlength:{idlName:"maxLength"},minlength:{idlName:"minLength"},name:{},placeholder:{},readonly:{idlName:"readOnly"},required:{},rows:{},wrap:{}},Kt={...s,datetime:{idlName:"dateTime"}},Ut={...s},jt={...s},zt={...s,kind:{},src:{},srclang:{},label:{},default:{}},qt={...s},Yt={...s,src:{},crossorigin:{idlName:"crossOrigin"},preload:{},autoplay:{},loop:{makeIdlValue:Mn},muted:{},controls:{},poster:{},playsinline:{idlName:"playsInline"},width:{},height:{}},Qt={a:Kn,abbr:s,address:s,area:Un,article:s,aside:s,audio:jn,b:s,base:qn,bdi:s,bdo:s,blockquote:s,body:Yn,br:zn,button:Qn,canvas:Zn,caption:_t,cite:s,code:s,col:bn,colgroup:bn,data:nt,datalist:tt,dd:s,del:Sn,details:it,dfn:s,dialog:rt,div:ot,dl:et,dt:s,em:s,embed:at,fieldset:lt,figcaption:s,figure:s,footer:s,form:dt,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,head:ct,header:s,heading:st,hgroup:s,hr:ut,html:ft,i:s,iframe:mt,image:pt,img:s,input:gt,ins:Sn,kbd:s,label:Et,legend:ht,li:Tt,link:yt,main:s,map:St,mark:s,menu:bt,meta:Mt,meter:vt,nav:s,noscript:s,object:Ct,ol:It,optgroup:Nt,option:xt,output:Lt,p:Xt,param:Jt,picture:wt,pre:Ht,progress:Rt,quote:Vt,rp:s,rt:s,ruby:s,s,samp:s,script:At,section:s,select:Dt,slot:kt,small:s,source:Pt,span:Ft,strong:s,style:Wt,sub:s,summary:s,sup:s,table:Ot,tbody:Oe,td:Gt,template:$t,textarea:Bt,tfoot:Oe,th:s,thead:Oe,time:Kt,title:Ut,tr:jt,track:zt,u:s,ul:qt,var:s,video:Yt,wbr:s};function vn(e,n){return Qt[e]?.[n]}function Zt(e){let n=[];function t(i){i.domNode?n.push(i.domNode):i.children?.forEach(a=>t(a))}return t(e),n}function ei(e,n,t){let i=0;function a(d){return d.domNode?(i+=1,!1):o(d)}function o(d){if(d.children){let r=d===n?t:d.children.length;for(let l=0;l<r;++l)if(a(d.children[l]))return!0}return d===n}return o(e),i}function Ce(e){e.children?.forEach(n=>Ce(n)),e.onMount&&e.onMount.forEach(n=>{try{n()}catch(t){de(t,"VNode node raised exception in onMount",e)}})}function Cn(e,n,t){n&&e.domNode&&n.push(e.domNode),e.children?.forEach(i=>{Cn(i,e.domNode?void 0:n,t)}),t&&e.onUnmount&&e.onUnmount.forEach(i=>{try{i()}catch(a){de(a,"VNode node raised exception in onUnmount",e)}})}function $(e,n,t,i,{runOnMount:a=!0,runOnUnmount:o=!0}={}){y(e.children,"attempted to splice a parent node with no children");let d=e.domNode?e:e.domParent;n>e.children.length&&(n=e.children.length),y(d&&d.domNode,"tried to replace a root tree slot with missing domParent");let r=d.domNode,l=e.children.splice(n,t,...i),c=[];if(l.forEach(u=>{Cn(u,c,o)}),r.childNodes.length===c.length?r.replaceChildren():c.forEach(u=>r.removeChild(u)),i.length>0){let u=ei(d,e,n),g=r.childNodes[u],h=document.createDocumentFragment();for(let m=0;m<i.length;++m){let f=i[m];f.domParent=d,Zt(f).forEach(S=>{h.appendChild(S)})}r.insertBefore(h,g||null),a&&i.forEach(m=>{m&&Ce(m)})}return l}var $e=({children:e})=>e;function Be(...e){return{__node:e}}Be.Fragment=$e;function In(e,n,t,i,a){if(t.startsWith("on:")&&typeof i=="function"){let o=t.slice(3);a[t]&&n.removeEventListener(o,a[t]),n.addEventListener(o,i),a[t]=i}else{let o=ii[t]||null,d=vn(e,t);if(d){if(d.makeAttrValue!==null){let r=d.makeAttrValue?d.makeAttrValue(i):i;r==null||r===!1?n.removeAttribute(t):r===!0?n.setAttributeNS(o,t,""):n.setAttributeNS(o,t,r)}d.idlName!==null&&(n[d.idlName??t]=d.makeIdlValue?d.makeIdlValue(i):i)}else i===!1||i===void 0||i===null?n.removeAttributeNS(o,t):i===!0?n.setAttributeNS(o,t,""):(typeof i=="string"||typeof i=="number")&&n.setAttributeNS(o,t,i.toString())}}function ni(e){return K(e)}function B(e,n,t,i,a){if(e==null||e===!1||e===!0)return{domParent:n};if(typeof e=="string"){let o=document.createTextNode(e);return a.appendChild(o),{domNode:o,domParent:n}}if(typeof e=="number"){let o=document.createTextNode(e.toString());return a.appendChild(o),{domNode:o,domParent:n}}return D(e)?di(e,n,t,i,a):ni(e)?si(e,n,t,i,a):Array.isArray(e)?{domParent:n,children:e.map(o=>B(o,n,t,i,a))}:typeof e=="function"?(rn("Attempted to render JSX node that was a function, not rendering anything"),{domParent:n}):ti(e,n,t,i,a)}function ti(e,n,t,i,a){let[o,d,...r]=e.__node;return typeof o=="string"?oi(o,d,r,n,t,i,a):Ye(o)?ai(o,d.value,r,n,t,i,a):li(o,d,r,n,t,i,a)}var _e="http://www.w3.org/1999/xhtml",me="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1998/Math/MathML",z="http://www.w3.org/1999/xlink",Nn="http://www.w3.org/XML/1998/namespace",xn="http://www.w3.org/2000/xmlns/",ii={"xlink:actuate":z,"xlink:arcrole":z,"xlink:href":z,"xlink:role":z,"xlink:show":z,"xlink:title":z,"xlink:type":z,"xml:lang":Nn,"xml:space":Nn,xmlns:xn,"xmlns:xlink":xn},ri={[_e]:{svg:{node:me,children:me},math:{node:Ge,children:Ge}},[me]:{foreignObject:{node:me,children:_e}}},pe=Se(_e);function oi(e,n,t,i,a,o,d){let r=o,l=o.has(pe)?o.get(pe):pe(),c=null,u=ri[l]?.[e];u&&(l=u.node,c=u.children),c!=null&&(r=new Map(o),r.set(pe,c));let g=document.createElementNS(l,e),h={},m=[],f;n&&Object.entries(n).forEach(([S,v])=>{if(S==="ref"){if(ze(v)){v.current=g;return}if(typeof v=="function"&&!D(v)){f=v;return}}if(D(v)){let X=ne(()=>{let xe=v();In(e,g,S,xe,h)},`viewattr:${S}`);m.push(()=>{A(X,a),X.dispose()}),V(X,a),X()}else In(e,g,S,v,h)});let E={domParent:i,domNode:g,onMount:[()=>{f&&f(g)}],onUnmount:[()=>{m.forEach(S=>S()),f&&f(void 0)}]};if(t&&t.length>0){let S=document.createDocumentFragment(),v=t.map(X=>B(X,E,a,r,S));E.children=v,g.appendChild(S)}return d.appendChild(g),E}function ai(e,n,t,i,a,o,d){let r=new Map(o);r.set(e,n);let l={domParent:i};return t&&(l.children=t.map(c=>B(c,i,a,r,d))),l}function li(e,n,t,i,a,o,d){let r=[],l=[],c,u=cn(()=>{c=e({...n,children:t},{onUnmount:m=>{r.push(m)},onMount:m=>{l.push(m)},onEffect:(m,f)=>{let E=ne(m,`componenteffect:${e.name}:${f??"?"}`);l.push(()=>{ue(E),V(a,E),E()}),r.push(()=>{A(a,E),fe(E),E.dispose()})},getContext:m=>o.has(m)?o.get(m):m()})});r.push(()=>{u.forEach(m=>{m.dispose()})});let g=B(c,i,a,o,d);return{domParent:i,children:[g],onMount:l,onUnmount:r}}function di(e,n,t,i,a){let o=[],d=[],r={domParent:n,children:d,onUnmount:o},l=Ke("viewcalc:order");F(l);let c=!0,u=ne(()=>{let g=e(),h=B(g,n,l,i,a);c?(c=!1,d.push(h)):$(r,0,d.length,[h])},`viewcalc:${se(e)??"node"}`);return V(l,t),V(u,l),o.push(()=>{A(l,t),A(u,l),u.dispose(),te(l)}),u(),r}function si(e,n,t,i,a){let o=[],r={domParent:n,children:[],onUnmount:o},l=Ke("viewcoll:order");F(l),V(l,t),o.push(()=>{A(l,t)}),ce(()=>{r.children.push(...e.map(g=>B(g,n,l,i,a)))});let c=e[he](g=>{g.forEach(h=>{if(h.type==="splice")ce(()=>{let{count:m,index:f,items:E}=h,S=E.map(v=>B(v,n,l,i,a));$(r,f,m,S)});else if(h.type==="move"){let{fromIndex:m,fromCount:f,toIndex:E}=h,S=$(r,m,f,[],{runOnUnmount:!1});$(r,m<E?E-f:E,0,S,{runOnMount:!1})}else if(h.type==="sort"){let{indexes:m}=h,f=$(r,0,m.length,[],{runOnUnmount:!1}),E=m.map(S=>f[S]);$(r,0,0,E,{runOnMount:!1})}else k(h,"unhandled collection event")})}),u=e[Te]();return F(u),V(u,l),o.push(c),o.push(()=>{A(u,l)}),r}function Ke(e){let n={$__id:O(),[I]:"nodeOrdering"};return e&&P(n,e),n}function Ln(e,n){let t=new Map;(e.namespaceURI===me||e.namespaceURI===Ge)&&t.set(pe,e.namespaceURI);let i=Ke("mount");ue(i);let a={domNode:e},o=document.createDocumentFragment(),d=B(n,a,i,t,o);return a.children=[d],e.appendChild(o),Ce(a),()=>{$(a,0,a.children?.length??0,[]),fe(i)}}function Xn(e,n){if(e===void 0&&n===void 0)return 0;if(e===void 0)return 1;if(n===void 0)return-1;let t=""+e,i=""+n;return t<i?-1:t>i?1:0}function ge(e,n){if(!Array.isArray(e))throw new C("collection must be provided an array");return Ie(e,"collection",{get(t,i,a){return i[a]},has(t,i,a){return a in i},set(t,i,a,o){if(a==="length"&&typeof o=="number"&&o<i.length)return this.splice(o,i.length-o),!0;let d=Number(a);return!isNaN(d)&&d<=e.length?this.splice(d,1,o):i[a]=o,!0},deleteProperty(t,i,a){return delete i[a],!0}},({notify:t,subscriptionNode:i,makeView:a,processFieldChange:o,processFieldDelete:d})=>({splice:function(l,c,...u){if(c<1&&u.length===0)return[];let g=e.length,h=e.splice(l,c,...u),m=e.length;if(t({type:"splice",index:l,count:c,items:u,removed:h}),g===m)for(let f=l;f<l+c;++f)o(f.toString());else{for(let f=l;f<Math.max(m,g);++f){let E=f.toString();f>=m?d(E):o(E)}o("length")}return h},pop:function(){return this.splice(e.length-1,1)[0]},shift:function(){return this.splice(0,1)[0]},push:function(...l){return this.splice(e.length,0,...l),e.length},unshift:function(...l){return this.splice(0,0,...l),e.length},reject:function(l){let c=[];for(let u=e.length-1;u>=0;--u)l(this[u],u)&&c.push(...this.splice(u,1));return c},moveSlice:function(l,c,u){if(c<=0||u>=l&&u<l+c)return;let g=e.splice(l,c);u<l?e.splice(u,0,...g):e.splice(u-c,0,...g),t({type:"move",fromIndex:l,fromCount:c,toIndex:u,moved:g})},sort:function(l=Xn){let c=e.map((u,g)=>[u,g]);return e.sort(l),c.sort((u,g)=>l(u[0],g[0])),t({type:"sort",indexes:c.map(u=>u[1])}),this},reverse:function(l=Xn){if(e.length===0)return this;e.reverse();let c=[];for(let u=e.length-1;u>=0;--u)c.push(u);return t({type:"sort",indexes:c}),this},makeView:a,mapView:function(l,c){return ci(this,l,c)},filterView:function(l,c){return ui(this,l,c)},flatMapView:function(l,c){return Ue(this,l,c)}}),n)}ge.dispose=function(n){n[Y]()};function ci(e,n,t){return Ue(e,i=>[n(i)],t)}function ui(e,n,t){return Ue(e,i=>n(i)?[i]:[],t)}function Ue(e,n,t){let i=[];return e.makeView({initialize:a=>{let o=[];return a.forEach(d=>{let r=n(d);o.push(...r),i.push(r.length)}),o},processEvent:(a,o,d)=>{if(o.type==="splice"){let{index:r,count:l,items:c}=o,u=0;for(let f=0;f<r;++f)u+=i[f];let g=0;for(let f=r;f<r+l;++f)g+=i[f];let h=[],m=[];c.forEach(f=>{let E=n(f);h.push(...E),m.push(E.length)}),a.splice(u,g,...h),i.splice(r,l,...m)}else if(o.type==="move"){let{fromIndex:r,fromCount:l,toIndex:c}=o,u=0;for(let g=r;g<r+l;++g)u+=i[g];if(u>0){let g=0,h=0,m=Math.max(r,c),f=0;for(let E=0;E<=m;++E)E===r&&(g=f),E===c&&(h=f),f+=i[E];a.moveSlice(g,u,h)}i.splice(c,0,...i.splice(r,l))}else if(o.type==="sort"){let{indexes:r}=o,l=[],c=0;for(let m=0;m<i.length;++m)l.push(c),c+=i[m];let u=d.slice(),g=[],h=0;r.forEach(m=>{let f=i[m];if(f===0)return;let E=l[m];for(let S=0;S<f;++S)g.push(E+S),d[h]=u[E+S],h+=1}),a[ye]({type:"sort",indexes:g})}else k(o,"unhandled collection event type")}},t)}function Ie(e,n,t,i,a){let o=new Map,d=new Map,r=[],l=!1,c=[],u={$__id:O(),[I]:"subscription",[oe]:g,item:null};P(u,`${a||"?"}:sub`);function g(){y(!l,"data already disposed");let T=!1,p=d;return d=new Map,p.forEach((M,H)=>{T=!0,H(M)}),T}function h(){y(!l,"data already disposed");let T=c,p=!1;return c=[],T.forEach(M=>{p=!0,M()}),p}function m(T){y(!l,"data already disposed"),c.push(T),j(N)}function f(T){y(!l,"data already disposed"),r.length>0&&(r.forEach(p=>{let M=d.get(p);M||(M=[],d.set(p,M)),M.push(T)}),j(u))}function E(){return y(!l,"data already disposed"),u}function S(T){return y(!l,"data already disposed"),r.length===0&&(F(N),F(u),ke(N,u),o.forEach(p=>{V(p,u)})),r.push(T),()=>{r=r.filter(p=>p!==T),r.length===0&&(pn(N,u),o.forEach(p=>{A(p,u)}))}}function v(T,p){y(!l,"data already disposed");let M=ce(()=>T.initialize(e)),H=ge(M,p);return S(Le=>{H[Ve](()=>{Le.forEach(wn=>{T.processEvent(H,wn,M)})})}),ke(u,H),H}function X(T){y(!l,"data already disposed");let p=q(T);j(p)}function xe(T){y(!l,"data already disposed");let p=q(T);j(p)}function Jn(){y(!l,"data already disposed"),o.forEach(T=>{A(N,T),r.length>0&&A(T,u),te(T)}),o.clear(),te(N),te(u),r.splice(0,r.length),d.clear(),c.splice(0,c.length),ve().then(()=>{je.revoke()}),l=!0}let ie={$__id:O(),[I]:"data",[re]:n,[oe]:h,[Ve]:m,[he]:S,[ye]:f,[Te]:E,[Y]:Jn,...i({observe:S,notify:f,makeView:v,subscriptionNode:u,processFieldChange:X,processFieldDelete:xe})};function q(T){let p=o.get(T);return p||(p={model:N,key:T,$__id:O()},a&&P(p,a),o.set(T,p),F(p),V(N,p),r.length>0&&V(p,u)),p}let je=Proxy.revocable(e,{get(T,p){if(p in ie)return ie[p];let M=q(p);return Me(M),t.get.call(N,f,T,p)},has(T,p){if(p in ie)return!0;let M=q(p);return Me(M),t.has.call(N,f,T,p)},set(T,p,M){if(p in ie)return R(`Overriding ${String(p)} not supported`,p),!1;let H=t.set.call(N,f,T,p,M);if(H){let Le=q(p);j(Le)}return H},deleteProperty(T,p){if(p in ie)return R(`Deleting ${String(p)} not supported`,p),!1;let M=t.deleteProperty.call(N,f,T,p);if(M){let H=q(p);j(H)}return M}}),N=je.proxy;return u.item=N,a&&P(N,a),F(N),N}function Ne(e,n){if(typeof e!="object"||!e)throw new C("model must be provided an object");let t=new Set(Object.keys(e));return Ie(e,"model",{get:(i,a,o)=>a[o],has:(i,a,o)=>t.has(o),set:(i,a,o,d)=>{let r=!t.has(o)||a[o]!==d;return a[o]=d,r&&(t.has(o)||(t.add(o),i({type:"add",key:o})),i({type:"set",key:o,value:d})),!0},deleteProperty:(i,a,o)=>{let d=t.has(o);return delete a[o],d&&(t.delete(o),i({type:"delete",key:o})),!0}},({makeView:i,notify:a,observe:o,subscriptionNode:d})=>({[Re]:i}),n)}Ne.keys=function(n,t){let i=new Set;return n[Re]({initialize:o=>{let d=Object.keys(o);return d.forEach(r=>i.add(r)),d},processEvent:(o,d)=>{if(d.type==="add"){let{key:r}=d;if(typeof r=="number"||typeof r=="string"){let l=r.toString();i.has(l)||(i.add(l),o.push(l))}}else if(d.type==="delete"){let{key:r}=d;if(typeof r=="number"||typeof r=="string"){let l=r.toString();i.has(l)&&(i.delete(l),o.reject(c=>c===l))}}}},t)};Ne.dispose=function(n){n[Y]()};var fi=Be,mi="0.6.1";return Fn(pi);})();
//# sourceMappingURL=index.min.js.map
